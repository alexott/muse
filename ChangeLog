# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--mwolson@gnu.org--2005/muse--main--1.0
#

2005-07-13 23:20:12 GMT	Michael Olson <mwolson@gnu.org>	patch-135

    Summary:
      Prepare Muse 3.01.90 (3.02 RC1).
    Revision:
      muse--main--1.0--patch-135


    modified files:
     ChangeLog lisp/muse.el muse.texi


2005-07-13 23:11:08 GMT	Michael Olson <mwolson@gnu.org>	patch-134

    Summary:
      Attempt to get the right file extension when publishing; more examples.
    Revision:
      muse--main--1.0--patch-134

    * examples/mwolson/muse-init.el: Update my configuration.
    
    * examples/mwolson/templates: Store my web page templates here.
    
    * examples/mwolson/stylesheets: Store my CSS stylesheets here.
    
    * lisp/muse-publish.el (muse-publish-markup-link): Fix mangling of
      descriptions.  Yet another reason to implement my list-returning from
      handlers idea.
    
    * lisp/muse-wiki.el (muse-wiki-resolve-project-page): Deal gracefully
      with a few more edge cases.  Throw together a rough hack for
      determining when to include the output file extension.
    
    * lisp/muse-wiki.el (muse-wiki-colors-nop-tag): Make this less odious,
      but still ineffective.

    new files:
     examples/mwolson/templates/.arch-ids/=id
     examples/mwolson/templates/.arch-ids/footer.html.id
     examples/mwolson/templates/.arch-ids/generic-footer.html.id
     examples/mwolson/templates/.arch-ids/generic-header.html.id
     examples/mwolson/templates/.arch-ids/header.html.id
     examples/mwolson/templates/footer.html
     examples/mwolson/templates/generic-footer.html
     examples/mwolson/templates/generic-header.html
     examples/mwolson/templates/header.html

    modified files:
     ChangeLog examples/mwolson/muse-init.el lisp/muse-publish.el
     lisp/muse-wiki.el

    new directories:
     examples/mwolson/templates
     examples/mwolson/templates/.arch-ids


2005-07-13 21:12:27 GMT	Michael Olson <mwolson@gnu.org>	patch-133

    Summary:
      Make published link handling do the right thing, plus misc. fixes.
    Revision:
      muse--main--1.0--patch-133

    * lisp/muse-mode.el (muse-mode-hook): Add option for
      `muse-wiki-update-custom-values'.  The :set function makes sure that
      this is always included in `muse-mode-hook' if muse-wiki is loaded.
      This probably isn't best-practice, but it works.
    
    * lisp/muse-project.el (muse-project-of-file): Fix some duplicated code.
      Save match data.
    
    * lisp/muse-publish.el (muse-publish-url-transforms): Add
      `muse-publish-prepare-url' to the listed options.
    
    * lisp/muse-publish.el (muse-publish-output-file): Handle case where
      output-dir is not specified.
    
    * lisp/muse-publish.el (muse-publish-markup-link): Call link handlers
      here instead of later on.
    
    * lisp/muse-wiki.el (muse-wiki-update-interwiki-regexp): Try to do the
      right thing when `muse-wiki-interwiki-alist' is nil.
    
    * lisp/muse-wiki.el (muse-wiki-output-name): Removed in favor of calling
      `muse-publish-output-file'.
    
    * lisp/muse-wiki.el (muse-wiki-transform-interwiki)
      (muse-wiki-transform-wikiword): Removed.  We should not use the
      publishing transforms facility to handle these.
    
    * lisp/muse-wiki.el ("muse-publish"): Publish wikiwords and interwiki
      links as "link" rather than "url".
    
    * lisp/muse-wiki.el (muse-wiki-update-custom-values): New function that
      takes care of any customization cleaups that need to happen whenever
      muse-mode is entered.
    
    * lisp/muse.el (muse-implicit-link-functions): Add options for
      `muse-handle-url' and the wiki handlers.
      (muse-explicit-link-functions): Add option for
      `muse-wiki-handle-internal'.

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse-project.el
     lisp/muse-publish.el lisp/muse-wiki.el lisp/muse.el


2005-07-13 03:38:52 GMT	Michael Olson <mwolson@gnu.org>	patch-132

    Summary:
      Add invalid directory assertion.
    Revision:
      muse--main--1.0--patch-132

    * lisp/muse-project.el (muse-project-file-entries): Add assertion so that
      any invalid directories will trigger an error.

    modified files:
     ChangeLog lisp/muse-project.el


2005-07-12 07:54:08 GMT	Michael Olson <mwolson@gnu.org>	patch-131

    Summary:
      AUTHORS: Fix typo, add that Yann authored muse-wiki.el.
    Revision:
      muse--main--1.0--patch-131


    modified files:
     AUTHORS ChangeLog


2005-07-12 07:52:25 GMT	Michael Olson <mwolson@gnu.org>	patch-130

    Summary:
      Yann's assignment form came in!
    Revision:
      muse--main--1.0--patch-130


    modified files:
     AUTHORS ChangeLog


2005-07-12 07:18:27 GMT	Michael Olson <mwolson@gnu.org>	patch-129

    Summary:
      Compilation fix, minor shuffling in `muse-mode'.
    Revision:
      muse--main--1.0--patch-129

    * lisp/muse.el (muse-file-extension): Make sure sym is bound before
      accessing it.  Fixes Yet Another Compiler Error.
    
    * lisp/muse-mode.el (muse-mode): Move font-lock setup to very end so that
     project-specific settings happen first.

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse.el


2005-07-12 07:12:49 GMT	Michael Olson <mwolson@gnu.org>	patch-128

    Summary:
      Fix annoying initial buffer coloring problem.
    Revision:
      muse--main--1.0--patch-128

    * lisp/muse-wiki.el (muse-wiki-resolve-project-page): Handle the case
      where even buffer-file-name is not set.  This happens the first time we
      attempt to colorize the buffer.  I'm rather astonished that I had to do
      this.

    modified files:
     ChangeLog lisp/muse-wiki.el


2005-07-12 06:12:08 GMT	Michael Olson <mwolson@gnu.org>	patch-127

    Summary:
      Jump to bad and good links on TAB; mode-choosing fix.
    Revision:
      muse--main--1.0--patch-127

    * lisp/muse-mode.el (muse-mode-choose-mode): New function that always
      pics a major mode for a file.  If one is specified in the project of
      file, use it.  Otherwise, use muse-mode.
      (muse-next-reference, muse-previous-reference): Jump to bad links as
      well as good ones.
    
    * lisp/muse.el (muse-file-extension): Use `muse-mode-choose-mode' instead
      of `muse-mode'.

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse.el


2005-07-12 05:56:42 GMT	Michael Olson <mwolson@gnu.org>	patch-126

    Summary:
      Add specified Muse file extension to auto-mode-alist.
    Revision:
      muse--main--1.0--patch-126

    * lisp/muse.el (muse-file-extension): If extension is specified, remove
      the old extension from auto-mode-alist and add the new one.  This
      eliminates the need to set muse-mode-auto-p when you have specified a
      Muse file extension.
    
    * examples/mwolson/muse-init.el: Sync.

    modified files:
     ChangeLog examples/mwolson/muse-init.el lisp/muse.el


2005-07-11 10:08:45 GMT	Michael Olson <mwolson@gnu.org>	patch-125

    Summary:
      Make `muse-project-alist' more intuitively customizable.
    Revision:
      muse--main--1.0--patch-125

    * examples/mwolson/muse-init.el (muse-project-alist): Resync with my
      settings.
    
    * lisp/muse-project.el: Thanks to jessealama on IRC for the suggestion.
      (muse-project-alist-get): New function that pre-parses
      `muse-projects-alist' before customization in order to work around an
      annoying limitation in the customize interface.
      (muse-project-alist-set): New function that takes the value that
      customize gave us and turns it into something Muse can use.
      (muse-project): New widget that outlines the form of the
      `muse-project-alist' variable.
      (muse-project-alist): Use the `muse-project' widget and specify :set
      and :get.

    modified files:
     ChangeLog examples/mwolson/muse-init.el lisp/muse-project.el


2005-07-10 22:41:49 GMT	Michael Olson <mwolson@gnu.org>	patch-124

    Summary:
      Silence compiler warnings.
    Revision:
      muse--main--1.0--patch-124

    * lisp/muse-docbook.el (muse-docbook-fixup-tags): Docfix.
    
    * lisp/muse-html.el (muse-html-escape-string): Let-bind `ch' to silence a
      compiler warning.
    
    * lisp/muse-project.el (muse-project-applicable-styles): Call
      `muse-assert' with only 1 argument to silence a compiler warning.

    modified files:
     ChangeLog lisp/muse-docbook.el lisp/muse-html.el
     lisp/muse-project.el


2005-07-10 22:19:26 GMT	Michael Olson <mwolson@gnu.org>	patch-123

    Summary:
      muse-docbook: Merge several other types of tags if necessary.
    Revision:
      muse--main--1.0--patch-123

    * lisp/muse-docbook.el (muse-docbook-fixup-tags): Renamed from
      `muse-docbook-fixup-sections'.  For each TAG in
      `muse-docbook-merged-tags', if consecutive groupings of TAG exist,
      merge them together.  Thanks to Dale P. Smith for the suggestion.
      (muse-docbook-merged-tags): Customizable list of tags that need merging.

    modified files:
     ChangeLog lisp/muse-docbook.el


2005-07-10 22:04:50 GMT	Michael Olson <mwolson@gnu.org>	patch-122

    Summary:
      muse-docbook: Output an XML tag with encoding at the beginning of document.
    Revision:
      muse--main--1.0--patch-122

    * lisp/muse-docbook.el (muse-docbook-header): Add <xml> tag at beginning
      of document.
      (muse-docbook-encoding-default): New option that determines which Emacs
      buffer encoding to use by default in Muse DocBook files if none is
      found.
      (muse-docbook-charset-default): New option that determines the DocBook
      XML charset to use if no translation is found in
      muse-docbook-encoding-map.
      (muse-docbook-encoding-map): New option alist that maps an emacs coding
      system to its associated DocBook coding system.
      (muse-docbook-transform-content-type): New function that determines the
      DocBook XML encoding to use based on the contents of
      muse-docbook-encoding-map.
      (muse-docbook-encoding): New function that calls
      muse-docbook-transform-content-type.
      (muse-docbook-finalize-buffer): New function that sets the buffer file
      coding system to the value of muse-docbook-encoding-default, but only
      if the buffers contents have no special characters.
      ("docbook"): Include :after tag that calls muse-docbook-finalize-buffer.

    modified files:
     ChangeLog lisp/muse-docbook.el


2005-07-10 21:35:49 GMT	Michael Olson <mwolson@gnu.org>	patch-121

    Summary:
      Apply muse-docbook patch from Dale P. Smith.
    Revision:
      muse--main--1.0--patch-121

    * lisp/muse-docbook.el (muse-docbook-markup-strings): Apply patch from
      Dale P. Smith to make the markup much better.

    modified files:
     AUTHORS ChangeLog lisp/muse-docbook.el


2005-07-10 00:27:13 GMT	Michael Olson <mwolson@gnu.org>	patch-120

    Summary:
      Use different mapping for S-tab on Windows.
    Revision:
      muse--main--1.0--patch-120

    * lisp/muse-mode.el (muse-mode-map): If using either XEmacs or on
      Windows, use [(shift tab)] for `muse-previous-reference'.

    modified files:
     ChangeLog lisp/muse-mode.el


2005-07-09 20:24:40 GMT	Michael Olson <mwolson@gnu.org>	patch-119

    Summary:
      XEmacs wiki fix.
    Revision:
      muse--main--1.0--patch-119

    * lisp/muse-wiki.el (muse-wiki-colors-wikiword): Use
      `muse-match-string-no-properties' so XEmacs doesn't complain.

    modified files:
     ChangeLog lisp/muse-wiki.el


2005-07-09 08:53:33 GMT	Michael Olson <mwolson@gnu.org>	patch-118

    Summary:
      Handle a few edge cases with project-page resolution gracefully.
    Revision:
      muse--main--1.0--patch-118

    * lisp/muse-project.el (muse-project-applicable-styles): Add assertion to
      make sure that PAGE is specified.  STYLES should be generated
      automatically, but it could theoretically fail.  I'm managing to
      trigger this when messing with unsaved Muse files.  Handle case where
      buffer has not yet been saved.
      (muse-project-find-file): Don't try to resolve relative links; just
      open them.
    
    * lisp/muse-wiki.el (muse-wiki-resolve-project-page): Fix
      point-of-reference bug.  No need to call muse-project-page-of-file
      since buffer-file-name and muse-publishing-current-file both give us
      full paths.
    
    * lisp/muse-mode.el (muse-link-at-point): For some reason,
      `skip-chars-backward' only respects the newline some of the time.
      Damned annoying.

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse-project.el
     lisp/muse-wiki.el


2005-07-09 07:41:44 GMT	Michael Olson <mwolson@gnu.org>	patch-117

    Summary:
      Fix image-link goof-up and add pretty titles.
    Revision:
      muse--main--1.0--patch-117

    * lisp/muse-html.el (muse-html-markup-paragraph): Use <p
      class="image-link"> instead of <div class="image-link">.  I found a bug
      with the way I was handling both, so I decided to simplify things.
    
    * lisp/muse-wiki.el (muse-wiki-output-name): New function that acts like
      `muse-publish-output-name', but keeps the directory prefix.
      (muse-wiki-transform-interwiki): Use `muse-publish-output-name'.
    
    * lisp/muse-wiki.el (muse-wiki-publish-small-title-words): New
      customizable option that determines the words to downcase in title.
      (muse-wiki-publish-pretty-title): New function that Makes a Nicely
      Capitalized Title out of either a string or the current title.  This is
      not currently used by any other function -- for now it is meant to be
      called by the user.

    modified files:
     ChangeLog lisp/muse-html.el lisp/muse-wiki.el


2005-07-09 05:22:12 GMT	Michael Olson <mwolson@gnu.org>	patch-116

    Summary:
      Escape specials in link descriptions.
    Revision:
      muse--main--1.0--patch-116

    * lisp/muse-publish.el (muse-publish-escape-specials-in-string): New
      function that escapes special characters in the given string according
      to the current publishing style.
      (muse-publish-url): Use the above function to escape the description
      part of extended links.
      (muse-publish-prepare-url): Don't make string read-only; it does
      nothing.
    
    * lisp/muse-wiki.el (muse-wiki-transform-interwiki)
      (muse-wiki-transform-wikiword): Don't make string read-only.

    modified files:
     ChangeLog lisp/muse-publish.el lisp/muse-wiki.el


2005-07-09 03:59:44 GMT	Michael Olson <mwolson@gnu.org>	patch-115

    Summary:
      Escape "&", "<", and ">" in URL text.
    Revision:
      muse--main--1.0--patch-115

    * lisp/muse-html.el (muse-html-escape-string): Escape "&", "<", and ">"
      specially.  Thanks to John Sullivan for the suggestion.

    modified files:
     ChangeLog lisp/muse-html.el


2005-07-09 03:24:01 GMT	Michael Olson <mwolson@gnu.org>	patch-114

    Summary:
      Update my example configuration.
    Revision:
      muse--main--1.0--patch-114

    * examples/mwolson/muse-init.el (muse-project-alist): Rename the "Web"
      project to "WebSite" in order to make it more distinct.
      (muse-wiki-interwiki-alist): Add mapping for "TheEmacsWiki".
      (my-muse-blosxom-finalize): Don't run the Xanga preparation code
      anymore.
      (my-muse-prepare-entry-for-xanga): Make this able to figure out the
      published name of the current file.  I really should make a function
      called `muse-published-name' or something similar!
      ("\C-cpx"): Use this key sequence for
      `my-muse-prepare-entry-for-xanga'.
      (muse-file-extension): I'm making use of this so I can figure out its
      intricacies.

    modified files:
     ChangeLog examples/mwolson/muse-init.el


2005-07-09 03:11:28 GMT	Michael Olson <mwolson@gnu.org>	patch-113

    Summary:
      Tackle a project name interwiki highlighting snafu.
    Revision:
      muse--main--1.0--patch-113

    * lisp/muse-wiki.el (muse-wiki-resolve-project-page): Hack still more on
      this.  It seems to be more robust now.  Highlighting is going the way I
      want it.

    modified files:
     ChangeLog lisp/muse-wiki.el


2005-07-09 02:25:26 GMT	Michael Olson <mwolson@gnu.org>	patch-112

    Summary:
      Fix some gross mistakes.
    Revision:
      muse--main--1.0--patch-112

    * lisp/muse-blosxom.el (muse-blosxom-update-page-date-alist): Fix several
      gross misspellings.
    
    * lisp/muse-project.el (muse-project-file-entries): If
      `muse-file-extension' is defined, use it to filter the entries.
    
    * lisp/muse.el (muse-file-extension): Fix messed up attempt to set
      variable.  Move higher in file.
    
    * lisp/muse.el (muse-update-ignored-extensions-regexp): Use given
      argument instead of the real name of the variable.

    modified files:
     ChangeLog lisp/muse-blosxom.el lisp/muse-project.el
     lisp/muse.el


2005-07-09 00:10:01 GMT	Michael Olson <mwolson@gnu.org>	patch-111

    Summary:
      Make natural interwiki links between projects mostly work.
    Revision:
      muse--main--1.0--patch-111

    * lisp/muse-wiki.el (muse-wiki-resolve-project-page): Uncomment this
      function and flesh it out.  This seems to work properly, though for
      some reason, interwiki links using projects are a bit flakey.
      (muse-wiki-handle-interwiki): Deal with case where we have a project
      name in an interwiki link.

    modified files:
     ChangeLog lisp/muse-wiki.el


2005-07-08 22:57:55 GMT	Michael Olson <mwolson@gnu.org>	patch-110

    Summary:
      Fix Emacs21 issue with muse-insert-tag.
    Revision:
      muse--main--1.0--patch-110

    * lisp/muse-mode.el (muse-insert-tag): Pass a list of lists to
      completing-read to appease older Emacsen.

    modified files:
     ChangeLog lisp/muse-mode.el


2005-07-08 22:55:20 GMT	Michael Olson <mwolson@gnu.org>	patch-109

    Summary:
      Fix error with `muse-blosxom-new-entry' and Emacs21.
    Revision:
      muse--main--1.0--patch-109

    * lisp/muse-blosxom.el (muse-blosxom-new-entry): Mess with call to
      `completing-read' so that old versions of Emacs don't complain.

    modified files:
     ChangeLog lisp/muse-blosxom.el


2005-07-08 21:59:41 GMT	Michael Olson <mwolson@gnu.org>	patch-108

    Summary:
      Try to fix an error with `muse-blosxom-get-categories'.
    Revision:
      muse--main--1.0--patch-108

    * lisp/muse-blosxom.el (muse-blosxom-get-categories): Be extra cautious
      about processing directories.

    modified files:
     ChangeLog examples/johnw/publish-johnw lisp/muse-blosxom.el


2005-07-08 21:11:53 GMT	Michael Olson <mwolson@gnu.org>	patch-107

    Summary:
      Make a distinction between implicit and explicit links at publish-time.
    Revision:
      muse--main--1.0--patch-107

    * lisp/muse-html.el (muse-html-escape-string): Ignore other arguments.
    
    * lisp/muse-http.el (muse-http-prepare-url): Handle `explicit' argument.
    
    * lisp/muse-publish.el (muse-publish-url, muse-publish-insert-url): Pass
      `explicit' argument.
    
    * lisp/muse-publish.el (muse-publish-markup-link): Determine whether or
      not we are dealing with an explicit link.
    
    * lisp/muse-publish.el (muse-publish-prepare-url): Ignore other arguments.
    
    * lisp/muse-wiki.el (muse-wiki-transform-interwiki): Take `explicit'
      argument, but ignore it.
    
    * lisp/muse-wiki.el (muse-wiki-transform-wikiword): Only apply transforms
      when link is not explicit.

    modified files:
     ChangeLog lisp/muse-html.el lisp/muse-http.el
     lisp/muse-publish.el lisp/muse-wiki.el


2005-07-08 06:40:30 GMT	Michael Olson <mwolson@gnu.org>	patch-106

    Summary:
      Implement several WikiWord handling fixes.
    Revision:
      muse--main--1.0--patch-106

    * lisp/muse-colors.el (muse-link-face): Handle case where no link is
      found by the handlers.  Don't send implicit links through some of the
      advanced checks.
    
    * lisp/muse-mode.el (muse-link-at-point): Move to beginning of first part
      of interwiki link before calling `muse-handle-explicit-link'.
    
    * lisp/muse-wiki.el (muse-wiki-update-interwiki-regexp): Append forgotten
      "\\|" separator between project-alist entries and interwiki entries.
      Force a reconfiguration of muse-colors-markup.
    
    * lisp/muse-wiki.el (muse-wiki-handle-wikiword): Add several checks to be
      sure that we don't colorize WikiNames that don't go with any file.
    

    modified files:
     ChangeLog lisp/muse-colors.el lisp/muse-mode.el
     lisp/muse-wiki.el


2005-07-07 21:34:12 GMT	Michael Olson <mwolson@gnu.org>	patch-105

    Summary:
      Attempt to simplify muse-wiki a bit.
    Revision:
      muse--main--1.0--patch-105

    * lisp/muse-colors.el (muse-use-font-lock): Set up muse-colors-markup
      here.
    
    * lisp/muse-wiki.el (muse-wiki-wikiword-colors-markup)
      (muse-wiki-update-use-wikiword-colors, muse-wiki-wikiword-markup-regexp)
      (muse-wiki-update-use-wikiword-markup-regexp)
      (muse-wiki-update-use-wikiword-link-function)
      (muse-wiki-update-use-wikiword-url-transforms): Remove.
      (muse-wiki-update-use-wikiword): Not :set function is needed anymore.
    
    * lisp/muse-wiki.el (muse-wiki-transform-wikiword): Only modify URL if
      `muse-wiki-use-wikiword' is specified.
    
    * lisp/muse-wiki.el (muse-wiki-handle-wikiword): Don't process the URL
      unless `muse-wiki-use-wikiword' is specified.
    
    * lisp/muse-wiki.el ("muse-colors"): Add muse-wiki-wikiword-regexp to
      muse-colors-markup.
    
    * lisp/muse-wiki.el ("muse-publish"): Add muse-wiki-wikiword-regexp to
      muse-publish-markup-regexps.
    
    * lisp/muse-wiki.el ("muse-publish"): Add muse-wiki-transform-wikiword to
      muse-publish-url-transforms.
    
    * lisp/muse-wiki.el (muse-implicit-link-functions): Add
      muse-wiki-handle-wikiword to muse-implicit-link-functions.
    

    modified files:
     ChangeLog lisp/muse-colors.el lisp/muse-wiki.el


2005-07-07 20:06:35 GMT	Michael Olson <mwolson@gnu.org>	patch-104

    Summary:
      Make muse-blosxom use relative name of published file in page-date alist.
    Revision:
      muse--main--1.0--patch-104

    * lisp/muse-blosxom.el (muse-blosxom-base-directory): Move higher in
      file.
      (muse-blosxom-update-page-date-alist): Renamed from
      `muse-blosxom-markup-date-directive'.  Make the current file name
      relative to the base directory and strip file extension if necessary.
    

    modified files:
     ChangeLog lisp/muse-blosxom.el


2005-07-07 19:14:38 GMT	Michael Olson <mwolson@gnu.org>	patch-103

    Summary:
      Hack on muse-blosxom timestamps somewhat.
    Revision:
      muse--main--1.0--patch-103

    * lisp/muse-blosxom.el (muse-blosxom-markup-date-directive): Make this
      actually do something useful.  This should have a different name,
      really.
      ("blosxom-html", "blosxom-xhtml"): Call
      `muse-blosxom-markup-date-directive' after publishing each entry.
    

    modified files:
     ChangeLog lisp/muse-blosxom.el


2005-07-07 06:27:02 GMT	Michael Olson <mwolson@gnu.org>	patch-102

    Summary:
      Fix several startup and compile errors.
    Revision:
      muse--main--1.0--patch-102

    * lisp/muse-wiki.el ("muse-publish"): Use correct name of function.  This
      fixes an error that occurred during startup.
    
    * lisp/muse-regexps.el (muse-ignored-extensions-regexp)
      (muse-update-ignored-extensions-regexp, muse-ignored-extensions): Move
      to muse.el.
    
    * lisp/muse.el (muse-update-ignored-extensions-regexp): Fix ordering so
      that the nasty compile errors go away.  Fix a few typos.
      (muse-ignored-extensions): Fix docstring.
      (muse-file-extension): Move this higher in the file.
    
    

    modified files:
     ChangeLog lisp/muse-regexps.el lisp/muse-wiki.el lisp/muse.el


2005-07-07 05:57:51 GMT	Michael Olson <mwolson@gnu.org>	patch-101

    Summary:
      Note that muse-file-extension should not have "." in front.
    Revision:
      muse--main--1.0--patch-101

    * lisp/muse-project.el (muse-project-find-file): Handle case where
      muse-file-extension is not specified.
    
    * lisp/muse.el (muse-file-extension): Note that the period at the
      beginning of this value should be omitted.
    
    * lisp/muse-regexps.el (muse-update-ignored-extensions-regexp): Quote
      file extension so that regexp characters inside the extension will not
      goof it up.  This should never be a problem in normal cases, but let's
      be robust.
    

    modified files:
     ChangeLog lisp/muse-project.el lisp/muse-regexps.el
     lisp/muse.el


2005-07-07 05:36:53 GMT	Michael Olson <mwolson@gnu.org>	patch-100

    Summary:
      Implement optional file extension of Muse files.
    Revision:
      muse--main--1.0--patch-100

    * lisp/muse-mode.el (muse-mode): Make sure
      `muse-update-ignored-extensions-regexp' gets updated every time we
      enter Muse mode.  This works around a bug in the customize interface --
      if a user changes an option using setq, the :set function sometimes
      does not get executed.  I should really try to determine whether or not
      this is really an issue anymore.
    
    * lisp/muse-project.el (muse-project-find-file): Make use of
      `muse-file-extension'.
    
    * lisp/muse-regexps.el (muse-ignored-extensions-regexp): This is not
      customizable; it is autogenerated from `muse-ignored-extensions'.
      (muse-update-ignored-extensions-regexp): New function that sets the
      value of `muse-ignored-extensions-regexp'.  This is needed in order to
      make sure that the value of `muse-file-extension' is taken into
      account.
      (muse-ignored-extensions): New option that determines which file
      extensions to ignore.  It is in the form of a list of regexps.
    
    * lisp/muse.el (muse-file-extension): New option that allows the user to
      specify the file extension to be used for Muse files.  By default, this
      is nil, which means that no extension will be used.
    
    * lisp/muse.el (muse-page-name): Handle case where
      `muse-ignored-extensions-regexp' is nil.
    

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse-project.el
     lisp/muse-regexps.el lisp/muse.el


2005-07-07 03:16:38 GMT	Michael Olson <mwolson@gnu.org>	patch-99

    Summary:
      Document new blosxom convenience feature.
    Revision:
      muse--main--1.0--patch-99

    * lisp/muse-blosxom.el: Document `muse-blosxom-project-alist-dirs' and
      `muse-blosxom-project-alist-entry'.  An example is provided in the
      header.
    

    modified files:
     ChangeLog lisp/muse-blosxom.el


2005-07-06 23:17:35 GMT	Michael Olson <mwolson@gnu.org>	patch-98

    Summary:
      Further work on `muse-project-alist' entry generation for blosxom.
    Revision:
      muse--main--1.0--patch-98

    * examples/mwolson/muse-init.el (muse-project-alist): Use proper syntax.
      Include subdirectories in first part of "Blog" entry.
    
    * lisp/muse-blosxom.el (muse-blosxom-project-alist-dirs): New function
      that returns a list of dirs that are to be used with the first part of
      a `muse-project-alist' entry.
    

    modified files:
     ChangeLog examples/mwolson/muse-init.el lisp/muse-blosxom.el


2005-07-06 22:42:35 GMT	Michael Olson <mwolson@gnu.org>	patch-97

    Summary:
      New function: muse-blosxom-project-alist-entry.
    Revision:
      muse--main--1.0--patch-97

    * examples/mwolson/muse-init.el: Update from my latest settings.
      (muse-project-alist): Make use of `muse-blosxom-project-alist-entry'.
    
    * lisp/muse-blosxom.el (muse-blosxom-project-alist-entry): New function
      that generates the latter part of an entry for `muse-project-alist'.
    

    modified files:
     ChangeLog examples/mwolson/muse-init.el lisp/muse-blosxom.el


2005-07-06 20:52:03 GMT	Michael Olson <mwolson@gnu.org>	patch-96

    Summary:
      Merged from hodique@lifl.fr--2005 (patch 12-23)
    Revision:
      muse--main--1.0--patch-96

    Patches applied:
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-12
       Merged from mwolson@gnu.org--2005 (patch 68-76)
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-13
       Merged from mwolson@gnu.org--2005 (patch 77-80)
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-14
       Merged from mwolson@gnu.org--2005 (patch 81)
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-15
       Merged from mwolson@gnu.org--2005 (patch 82)
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-16
       Escape % in latex publishing
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-17
       bugfix
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-18
       small improvement on muse-make-link
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-19
       Fix customization of muse-wiki-wikiword-regexp
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-20
       Allow full customization of WikiWords
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-21
       Fix mouse-2 yank bug in muse-mode
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-22
       Fix interpretation order
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-23
       Merged from mwolson@gnu.org--2005 (patch 83-95)
    

    modified files:
     ChangeLog lisp/muse-wiki.el

    new patches:
     hodique@lifl.fr--2005/muse--yh--1.0--patch-12
     hodique@lifl.fr--2005/muse--yh--1.0--patch-13
     hodique@lifl.fr--2005/muse--yh--1.0--patch-14
     hodique@lifl.fr--2005/muse--yh--1.0--patch-15
     hodique@lifl.fr--2005/muse--yh--1.0--patch-16
     hodique@lifl.fr--2005/muse--yh--1.0--patch-17
     hodique@lifl.fr--2005/muse--yh--1.0--patch-18
     hodique@lifl.fr--2005/muse--yh--1.0--patch-19
     hodique@lifl.fr--2005/muse--yh--1.0--patch-20
     hodique@lifl.fr--2005/muse--yh--1.0--patch-21
     hodique@lifl.fr--2005/muse--yh--1.0--patch-22
     hodique@lifl.fr--2005/muse--yh--1.0--patch-23


2005-07-06 19:55:48 GMT	Michael Olson <mwolson@gnu.org>	patch-95

    Summary:
      Minor docfixes.
    Revision:
      muse--main--1.0--patch-95

    * lisp/muse-mode.el (muse-follow-name-at-point) 
      (muse-follow-name-at-mouse): Docfixes.
    

    modified files:
     ChangeLog lisp/muse-mode.el


2005-07-06 19:30:34 GMT	Michael Olson <mwolson@gnu.org>	patch-94

    Summary:
      Fix goof-up in instructions for using `muse-blosxom-new-entry'.
    Revision:
      muse--main--1.0--patch-94

    * lisp/muse-blosxom.el: Fix goof-up in instructions for using
      `muse-blosxom-new-entry'.
    
    * muse.texi (Blosxom Entries): Ditto.
    

    modified files:
     ChangeLog lisp/muse-blosxom.el muse.texi


2005-07-06 18:54:52 GMT	Michael Olson <mwolson@gnu.org>	patch-93

    Summary:
      Re-add global mouse-2 event.
    Revision:
      muse--main--1.0--patch-93

    * lisp/muse-mode.el (muse-mode-map): Re-add the global binding for
      mouse-2, since Yann found a way around the problem I was facing.
      (muse-follow-name-at-mouse): Call the event that would normally be used
      here if we don't have a link at point.
    

    modified files:
     ChangeLog lisp/muse-mode.el


2005-07-06 07:19:41 GMT	Michael Olson <mwolson@gnu.org>	patch-92

    Summary:
      Fix publishing error.
    Revision:
      muse--main--1.0--patch-92

    * lisp/muse-project.el (muse-project-publish-file): Don't try to fetch
      the cdr of output-dir.  This was a code fragment from a previous
      attempt to refactor this function.
    

    modified files:
     ChangeLog lisp/muse-project.el


2005-07-06 06:39:21 GMT	Michael Olson <mwolson@gnu.org>	patch-91

    Summary:
      Work on getting to the point where we can resolve project interwiki links.
    Revision:
      muse--main--1.0--patch-91

    * lisp/muse-blosxom.el (muse-blosxom-markup-date-directive): Use
      `muse-publishing-current-file'.
    
    * lisp/muse-project.el (muse-project-of-file): Ditto.
    
    * lisp/muse-project.el (muse-project-applicable-styles): New function
      that returns the usable styles for a file, given either a list of
      styles or a project name.  This is useful for removing styles that will
      be ignored for a file.
      (muse-project-publish-file): Split :include and :exclude processing
      into `muse-project-applicable-styles'.
    
    * lisp/muse-publish.el (muse-publish-output-name): Use
      `muse-publishing-current-file'.
    
    * lisp/muse-publish.el (muse-publish-file): Don't set `muse-current-file'.
    
    * lisp/muse-wiki.el (muse-wiki-update-interwiki-regexp): Recognize
      project names.
    
    * lisp/muse-wiki.el (muse-wiki-transform-wikiword): Don't cause project
      names to be uninterpreted.  Remove need for muse-assoc-string.
    
    * lisp/muse-wiki.el (muse-wiki-resolve-project-page): First draft of
      function that will be called to fetch a link to a page from a Muse
      project from the output file of the currently-published file.  This is
      commented out for now since I ran out of energy.
    
    * lisp/muse-wiki.el (muse-wiki-handle-interwiki): Use
      `muse-wiki-resolve-project-page' for handling Muse project interwiki
      links, but only when no match was found in `muse-wiki-interwiki-alist'.
      Handle case where no interwiki can be found, even though this should
      never happen.
    
    * lisp/muse-wiki.el (muse-mode-hook): Update `muse-wiki-interwiki-regexp'
      whenever Muse mode is entered.  That way we don't have to enter an
      extra command in our .emacs.
    
    * lisp/muse.el (muse-current-file): Remove this, since a variable called
      `muse-publishing-current-file' already exists that does the same thing.
      How embarrassing.
    
    * lisp/muse.el (muse-page-name): Use `muse-publishing-current-file'.
    
    * lisp/muse.el (muse-assoc-string): Remove this, since we no longer need
      to use it.
    

    modified files:
     ChangeLog lisp/muse-blosxom.el lisp/muse-project.el
     lisp/muse-publish.el lisp/muse-wiki.el lisp/muse.el


2005-07-06 04:00:57 GMT	Michael Olson <mwolson@gnu.org>	patch-90

    Summary:
      Mouse-2 on regular text will yank rather than give an error.
    Revision:
      muse--main--1.0--patch-90

    * lisp/muse-mode.el (muse-mode-map): Remove mappings for mouse-2, since
      this seems to be more trouble than it's worth.
      (muse-follow-name-at-mouse): Don't call `muse-follow-name-at-point';
      use our own implementation.
    

    modified files:
     ChangeLog lisp/muse-mode.el


2005-07-06 02:25:56 GMT	Michael Olson <mwolson@gnu.org>	patch-89

    Summary:
      Make interwiki links publish with the correct extension.
    Revision:
      muse--main--1.0--patch-89

    * lisp/muse-wiki.el (muse-wiki-transform-interwiki): Add the correct
      prefix and suffix to interwiki names, as well as stripping out unwanted
      extensions.
    

    modified files:
     ChangeLog lisp/muse-wiki.el


2005-07-06 02:02:42 GMT	Michael Olson <mwolson@gnu.org>	patch-88

    Summary:
      Fix publishing of bare interwiki names.
    Revision:
      muse--main--1.0--patch-88

    * lisp/muse-wiki.el (muse-wiki-transform-wikiword): Use `setq' instead of
      `set'.  Use `muse-assoc-string' instead of `assoc'.
    
    * lisp/muse.el (muse-assoc-string): New compatibility function that makes
      `assoc-string' functionality usable with Emacs21 and XEmacs.
    

    modified files:
     ChangeLog lisp/muse-wiki.el lisp/muse.el


2005-07-06 01:41:24 GMT	Michael Olson <mwolson@gnu.org>	patch-87

    Summary:
      Apply a few fixes from Yann's branch.
    Revision:
      muse--main--1.0--patch-87

    Background: I hacked on Muse over the weekend while offline, and so did
                Yann.  His changes to muse-wiki.el are different than the
                ones that I made, so we should probably figure out the best
                way to handle this when we both get on IRC again.  For now,
                I've merged in the bugfixes that he's made, omitting most of
                the changes to muse-wiki.
    
    * lisp/muse-latex.el (muse-latex-markup-regexps): Escape %.
    
    * lisp/muse-wiki.el (muse-wiki-colors-wikiword): Add docstring.
    
    * lisp/muse.el (muse-page-name): Fix a bug that was inadvertently
      introduced previously.
    

    modified files:
     ChangeLog lisp/muse-latex.el lisp/muse-wiki.el lisp/muse.el


2005-07-05 20:41:49 GMT	Michael Olson <mwolson@gnu.org>	patch-86

    Summary:
      Warn if file not published; hack further on Wiki stuff.
    Revision:
      muse--main--1.0--patch-86

    * lisp/muse-html.el (muse-html-markup-paragraph): Make this only try to
      complete <div> tags that are of the class "image-link".  It is hoped
      that this will prevent user-added <div> tags from being mangled.
    
    * lisp/muse-mode.el (muse-link-at-point): Don't pass an argument to
      `muse-handle-implicit-link' or `muse-handle-explicit-link' since they
      need to look at the text at point.
    
    * lisp/muse-publish.el (muse-publish-this-file): Warn the user if the
      current file has not been published since it was up-to-date.  Thanks to
      Bill Freeman for the suggestion.
    
    * lisp/muse-publish.el (muse-publish-url): Handle case when returned url
      is nil.  If this happens, return the original URL.
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-regexp): Set using
      `muse-wiki-update-interwiki-regexp.'
      (muse-wiki-update-interwiki-regexp): New function that sets the value
      of `muse-wiki-interwiki-regexp'.
      (muse-wiki-interwiki-alist): Call `muse-wiki-update-interwiki-regexp'
      on :set.
    
    * lisp/muse-wiki.el (muse-wiki-transform-interwiki): Renamed from
      `muse-wiki-expand-interwiki'.
      (muse-wiki-transform-wikiword): New function that prevents WikiWords
      with no matching file from being published as links.
    
    * lisp/muse-wiki.el (muse-wiki-handle-interwiki): Accept an optional
      string argument once again, since this behavior is needed when
      publishing.
      (muse-wiki-handle-wikiword): Ditto.
    
    * lisp/muse.el (muse-handle-url): Ditto.
    
    * lisp/muse.el (muse-handle-implicit-link): Ditto.  Restore match data
      after every unsuccessful attempt at handling the link.  If argument is
      given, restore match-data at end, too.
    
    * lisp/muse.el (muse-handle-explicit-link): Accept optional string
      argument.  Match data is always saved.  If argument is not given,
      assume that `muse-implicit-link-regexp' has been matched against, and
      return the 1st match string if no handlers worked.
    

    modified files:
     ChangeLog lisp/muse-html.el lisp/muse-mode.el
     lisp/muse-publish.el lisp/muse-wiki.el lisp/muse.el


2005-07-04 23:00:06 GMT	Michael Olson <mwolson@gnu.org>	patch-85

    Summary:
      Hack on WikiName handling and make TAB work for Wiki links.
    Revision:
      muse--main--1.0--patch-85

    * lisp/muse-colors.el (muse-colors-markup): Use
      `muse-explicit-link-regexp' instead of `muse-link-regexp'.
    
    * lisp/muse-colors.el (muse-link-face): Add new argument EXPLICIT.  If
      nil, don't color bad links.  If non-nil, color bad links.
    
    * lisp/muse-colors.el (muse-colors-link): Pass `t' to `muse-link-face'.
    
    * lisp/muse-journal.el (muse-journal-rss-markup-regexps): Use
      `muse-explicit-link-regexp' instead of `muse-link-regexp'.
      (muse-journal-rss-munge-buffer): Ditto.
    
    * lisp/muse-mode.el (muse-mode-fill-nobreak-p, muse-link-at-point):
      Docfix.
    
    * lisp/muse-mode.el (muse-link-at-point): Rewrite so that explicit links
      are handled first, then implicit ones.  It should work better in all
      cases.  For now, we depend on the value of `muse-implicit-link-regexp'
      to determine how far to scan for an implicit link.  This defaults to
      the text between the point and the next space.
    
    * lisp/muse-mode.el (muse-visit-link-default): Refactored code from
      `muse-visit-link'.  If the ANCHOR argument is a string, search for it
      literally after opening the buffer.  Hopefully this can be of use in
      custom visit-link functions, when necessary.
    
    * lisp/muse-mode.el (muse-visit-link): Docfix.  Call
      `muse-visit-link-default'.
    
    * lisp/muse-mode.el (muse-next-reference, muse-previous-reference):
      Search by text properties instead of regexps.  This allows Muse to find
      links without having to have a massive regexp that contains all link
      types.  The downside is that this will not work if the user defontifies
      the buffer.  But it would somewhat defeat the purpose of following
      links if you can't see them.
    
    * lisp/muse-project.el (muse-project-batch-publish): Handle case when not
      enough command line args are passed in batch mode.
    
    * lisp/muse-publish.el (muse-publish-markup-regexps): Use
      `muse-explicit-link-regexp'.
    
    * lisp/muse-regexps.el (muse-explicit-link-regexp): Renamed from
      `muse-link-regexp'.
    
    * lisp/muse-regexps.el (muse-implicit-link-regexp): New option that
      specifies the "common ground" of all implicit links, like URLs, bare
      WikiNames, and -- in the future -- email addresses.
    
    * lisp/muse-wiki.el (muse-wiki-hide-nop-tag): Quote 'boolean.
    
    * lisp/muse-wiki.el (muse-wiki-handle-interwiki): Arg URL is no longer
      optional.  That was a bad idea on my part.  Renamed from
      `muse-wiki-interwiki-handle'.  Hopefully all this renaming doesn't
      annoy anyone :^) .
    
    * lisp/muse-wiki.el (muse-wiki-expand-interwiki): Renamed from
      `muse-wiki-interwiki-expand'.
      (muse-wiki-handle-wikiword): Renamed from
      `muse-wiki-wikiword-handle'.
    
    * lisp/muse-wiki.el ("muse-colors", "muse-publish"): Use a string value
      for the eval-after-load arg since XEmacs chokes on constants.
    
    * lisp/muse-wiki.el (muse-wiki-colors-wikiword): Don't display a bad-link
      face on WikiWords that don't correspond with a file.  If people really
      want this to appear in bad-link face, I could accommodate that.
    
    * lisp/muse.el (muse-handle-url): New function that detects whether the
      given string is a URL.
      (muse-implicit-link-functions): Renamed from
      `muse-mode-link-functions'.  Defaults to `muse-handle-url'.
      (muse-explicit-link-functions): Renamed from
      `muse-mode-handler-functions'.
      (muse-handle-implicit-link): New function that handles all
      implicit links by calling functions from `muse-implicit-link-functions'.
      (muse-handle-explicit-link): Renamed from
      `muse-handled-url'.
    

    modified files:
     ChangeLog lisp/muse-colors.el lisp/muse-journal.el
     lisp/muse-mode.el lisp/muse-project.el lisp/muse-publish.el
     lisp/muse-regexps.el lisp/muse-wiki.el lisp/muse.el


2005-07-04 14:40:31 GMT	Michael Olson <mwolson@gnu.org>	patch-84

    Summary:
      Allow WikiWords to be ignored with <nop> or "''''".
    Revision:
      muse--main--1.0--patch-84

    * lisp/muse-mode.el (muse-browse-result): Docfixes.
    
    * lisp/muse-wiki.el (muse-wiki-hide-nop-tag): New option that determines
      whether to hide <nop> tags when coloring a Muse buffer.
      (muse-wiki-wikiword-at-point): Docfix.
      (muse-wiki-colors-nop-tag): New function that colors <nop> tags.
      (muse-wiki-publish-nop-tag): New function that interprets <nop> tags
      during publishing.
      (muse-colors-tags, muse-publish-markup-tags): Interpret <nop> tags,
      which keeps the WikiWord that follows it from being interpreted.
      (muse-publish-markup-regexps): Allow 4 single quotes to function as a
      WikiWord delimiter.
    

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse-wiki.el


2005-07-04 11:20:50 GMT	Michael Olson <mwolson@gnu.org>	patch-83

    Summary:
      Update postal address of FSF in muse-wiki.el.
    Revision:
      muse--main--1.0--patch-83

    * lisp/muse-wiki.el: Update postal address of the FSF.
    

    modified files:
     ChangeLog lisp/muse-wiki.el


2005-07-01 22:48:51 GMT	Michael Olson <mwolson@gnu.org>	patch-82

    Summary:
      Interpret explicit links before emphasis.
    Revision:
      muse--main--1.0--patch-82

    * lisp/muse-publish.el (muse-publish-markup-regexps): Interpret explicit
      links before emphasis.
    
    * lisp/muse-wiki.el (muse-publish): Make rules use a multiple of 100 just
      for the heck of it.

    modified files:
     ChangeLog lisp/muse-publish.el lisp/muse-wiki.el


2005-06-26 22:55:55 GMT	Michael Olson <mwolson@gnu.org>	patch-81

    Summary:
      Wiki hacking, regexp tweaks.
    Revision:
      muse--main--1.0--patch-81

    * lisp/muse-project.el (muse-project-ignore-regexp): Change group to
      muse-regexp.
    
    * lisp/muse-regexps.el (muse-regexp-use-character-classes): New variable
      that indicates whether or not to use character classes in regexps.  The
      default is to let Muse try to figure it out.
      (muse-extreg-usable-p): Make use of this variable.
    
    * lisp/muse-regexps.el (muse-url-regexp): There's too much whitespace in
      this regexp.  I'm guessing it was supposed to have a TAB in there at
      one time.  Replace this stuff with muse-regexp-space.
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-alist): Use wikified EmacsWiki
      by default.
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-alist): Use "choice" instead of
      "or".
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-regexp): Include the page
      delimiter as part of the regexp.  Allow "#" or "::" to be a delimiter.
      We'll fix those anchor problems eventually!
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-at-point): New function that
      uses `muse-interwiki-handle' to determine whether an interwiki link is
      at point.
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-handle): Make URL optional and
      look for a suitable value at point if needed.
    
    * lisp/muse-wiki.el: Make interwiki regexps color the same as wikiwords.
    
    * lisp/muse-wiki.el: Add publishing rule for muse-wiki-interwiki-regexp.
    
    * lisp/muse-wiki.el (muse-mode-link-functions): Add interwiki handling.

    modified files:
     ChangeLog lisp/muse-project.el lisp/muse-regexps.el
     lisp/muse-wiki.el


2005-06-25 04:44:00 GMT	Michael Olson <mwolson@gnu.org>	patch-80

    Summary:
      Make installation of manual when not using Debian go smoothly.
    Revision:
      muse--main--1.0--patch-80

    * Makefile.defs (INSTALLINFO): New variable that specifies what command
      and options are to be used when insinuating the Muse documentation into
      the Info menu.
    
    * Makefile (install): Make use of INSTALLINFO.
    
    * README (Installation): Give directions for changing INSTALLINFO on a
      Debian system and changing where Muse is installed.
    
    * muse.texi: Ditto.

    modified files:
     ChangeLog Makefile Makefile.defs README muse.texi


2005-06-25 04:09:15 GMT	Michael Olson <mwolson@gnu.org>	patch-79

    Summary:
      Fix compiler warning induced by last patch.
    Revision:
      muse--main--1.0--patch-79

    * lisp/muse-project.el (muse-current-file): Move to muse.el to fix
      compiler warning.

    modified files:
     ChangeLog lisp/muse-project.el lisp/muse.el


2005-06-25 04:02:11 GMT	Michael Olson <mwolson@gnu.org>	patch-78

    Summary:
      Add `muse-current-file', fix minor QuickStart issue.
    Revision:
      muse--main--1.0--patch-78

    * examples/QuickStart: Make John Wiegley the author.
    
    * lisp/muse-blosxom.el (muse-blosxom-markup-date-directive): Use
      `muse-current-file' instead of `buffer-file-name'.
    
    * lisp/muse-project.el (muse-current-project): Document.
    
    * lisp/muse-project.el (muse-current-file): New variable indicating the
      name, including path, of the file that is currently being published.
      (muse-project-of-file): Make use of
      `muse-current-file'.
    
    * lisp/muse-publish.el (muse-publish-file): Set `muse-current-file' here.
    
    * lisp/muse.el (muse-page-name): Make use of `muse-current-file'.

    modified files:
     ChangeLog examples/QuickStart lisp/muse-blosxom.el
     lisp/muse-poem.el lisp/muse-project.el lisp/muse-publish.el
     lisp/muse.el


2005-06-24 21:15:35 GMT	Michael Olson <mwolson@gnu.org>	patch-77

    Summary:
      Make muse-replace-regexp-in-string closer to its parent; no func change.
    Revision:
      muse--main--1.0--patch-77

    * lisp/muse.el (muse-replace-regexp-in-string): Add 2 more optional args
      to implement all functionality of `replace-regexp-in-string'.  No
      functionality change.
    

    modified files:
     ChangeLog lisp/muse.el


2005-06-24 00:22:12 GMT	Michael Olson <mwolson@gnu.org>	patch-76

    Summary:
      Play nicely with fill, adaptive-fill, and flyspell.
    Revision:
      muse--main--1.0--patch-76

    * muse-mode.el (muse-mode-intangible-links): New function used to
      determine whether links will be considered intangible.
    
    * lisp/muse-mode.el (muse-mode-link-functions)
      (muse-mode-handler-functions): Minor docfix.
    
    * lisp/muse-mode.el (muse-mode): Don't split long links when performing
      fill.  Play nicely with adaptive-fill.  Avoid lockup with flyspell by
      making links intangible by default, but this may be adjusted by use of
      the `muse-mode-intangible-links' function.
    
    * lisp/muse-mode.el (muse-mode-fill-nobreak-p): New function that returns
      nil if we should allow a fill to occur here.  Keeps links from being
      broken up.
    
    * lisp/muse-mode.el (muse-mode-flyspell-p): New function that returns
      non-nil if we allow spell-checking to occur here.  Keeps links from
      being improperly colorized.
    
    * lisp/muse-wiki.el (muse-wiki-interwiki-handle): Break up long line; no
      functionality change.

    modified files:
     ChangeLog lisp/muse-mode.el lisp/muse-wiki.el


2005-06-23 07:13:35 GMT	Michael Olson <mwolson@gnu.org>	patch-75

    Summary:
      Minor doc changes and code prettification.
    Revision:
      muse--main--1.0--patch-75

    * AUTHORS: Note that YH's assignment is in the mail.
    
    * README (scripts): Explain better the contents of the `scripts'
      directory.
    
    * lisp/muse-wiki.el (muse-wiki-wikiword-regexp): Split long line.

    modified files:
     AUTHORS ChangeLog README lisp/muse-wiki.el


2005-06-23 05:20:04 GMT	Michael Olson <mwolson@gnu.org>	patch-74

    Summary:
      Merged from hodique@lifl.fr--2005 (patch 7-11)
    Revision:
      muse--main--1.0--patch-74

    Patches applied:
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-7
       split WikiWords and InterWiki links into their own package
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-8
       Merged from mwolson@gnu.org--2005 (patch 63-67), adapted muse-wiki features
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-9
       Mimic experimental behavior for interwiki
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-10
       fix notes publishing
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-11
       various minor fixes

    new files:
     lisp/.arch-ids/muse-wiki.el.id lisp/muse-wiki.el

    modified files:
     ChangeLog lisp/muse-colors.el lisp/muse-html.el
     lisp/muse-mode.el lisp/muse-publish.el lisp/muse.el

    renamed files:
     experimental/.arch-ids/muse-wiki.el.id
       ==> experimental/.arch-ids/muse-wiki-old.el.id
     experimental/muse-wiki.el
       ==> experimental/muse-wiki-old.el

    new patches:
     hodique@lifl.fr--2005/muse--yh--1.0--patch-7
     hodique@lifl.fr--2005/muse--yh--1.0--patch-8
     hodique@lifl.fr--2005/muse--yh--1.0--patch-9
     hodique@lifl.fr--2005/muse--yh--1.0--patch-10
     hodique@lifl.fr--2005/muse--yh--1.0--patch-11


2005-06-22 23:05:33 GMT	Michael Olson <mwolson@gnu.org>	patch-73

    Summary:
      Tell people where to find on-line version of manual.
    Revision:
      muse--main--1.0--patch-73

    * README: Add on-line locations for manual.
    
    * muse.texi: Remove @include directive.  This makes generating a PDF of
      this documentation a lot easier.
    
    * muse.texi (Preface): Add on-line locations for manual.

    modified files:
     ChangeLog README muse.texi


2005-06-22 19:57:42 GMT	Michael Olson <mwolson@gnu.org>	patch-72

    Summary:
      Try to make Muse play nice with outline minor mode.
    Revision:
      muse--main--1.0--patch-72

    * lisp/muse-colors.el (muse-colors-emphasized, muse-colors-emphasized)
    (muse-colors-underlined, muse-use-font-lock, muse-link-properties): Use
    "muse" instead of "t" when adding invisibility to text or checking for
    invisibility.
    
    * lisp/muse.el (muse-add-to-invisibility-spec): New function that is a
    compatibility wrapper for `add-to-invisibility-spec'; XEmacs doesn't have
    this function.

    modified files:
     ChangeLog lisp/muse-colors.el lisp/muse.el


2005-06-22 08:02:58 GMT	Michael Olson <mwolson@gnu.org>	patch-71

    Summary:
      Minor grammar fix in Introduction section of manual.
    Revision:
      muse--main--1.0--patch-71

    * muse.texi (Introduction): Minor grammar fix.

    modified files:
     ChangeLog muse.texi


2005-06-22 06:32:02 GMT	Michael Olson <mwolson@gnu.org>	patch-70

    Summary:
      Release Muse 3.01.
    Revision:
      muse--main--1.0--patch-70

    * lisp/muse-colors.el: Remove unnecessary use of Version in header.
    
    * lisp/muse-html.el (muse-html-encoding-map): Add mapping for iso-8859-1.
    
    * lisp/muse-poem.el (muse-poem-markup-strings)
      (muse-poem-chapbook-strings): Make customizable.
    
    * lisp/muse-poem.el (muse-chapbook-latex-header)
      (muse-chapbook-latex-footer): Docfix.
    
    * lisp/muse-texinfo.el (muse-texinfo-info-extension)
      (muse-texinfo-pdf-extension): Ditto.
    
    * lisp/muse.el (muse-version): Change to 3.01.
    
    * muse.texi (Poem, Texinfo): Last two publishing styles complete.  We're
      done, for now!

    modified files:
     ChangeLog lisp/muse-colors.el lisp/muse-html.el
     lisp/muse-poem.el lisp/muse-texinfo.el lisp/muse.el muse.texi


2005-06-20 02:29:08 GMT	Michael Olson <mwolson@gnu.org>	patch-69

    Summary:
      Tweak documentation thoroughly; still incomplete.
    Revision:
      muse--main--1.0--patch-69

    * README: Minor tweaks.
    
    * muse.texi: Massively rename chapters so that the titles are more
      descriptive.  Clean up grammar.
    
    * muse.texi (Obtaining Muse): Move content of Installation node here,
      stripping out any customization tips, since those are covered later.
      Re-work this chapter since I was dissatisfied with it.
    
    * muse.texi (Installation): This node has the content of README regarding
      installation, which fits the title of the node much better than the
      previous content.
    
    * muse.texi (Blosxom): Turn the sections of this section into
      subsections.
    
    * muse.texi (Getting Help and Reporting Bugs): Turn this into a list.  I
      like lists!
    
    * muse.texi (History): Add a "2005" item.

    modified files:
     ChangeLog README muse.texi


2005-06-19 07:15:45 GMT	Michael Olson <mwolson@gnu.org>	patch-68

    Summary:
      Finish documenting 2 more publishing styles.
    Revision:
      muse--main--1.0--patch-68

    * lisp/muse-blosxom.el, lisp/muse-latex.el: Minor docfixes throughout.
    
    * lisp/muse-journal.el: Docfixes.
    
    * lisp/muse-publish.el (muse-publish-markup-functions): Add significant
      documentation to this function.
    
    * muse.texi (Blosxom Options): New node containing the publishing styles
      and options provided by Blosxom.
      (Book): Add usage note, as I suspect a lot of people might be confused
      by this style.
      (HTML): Space out entries better.
      (Journal, LaTeX): New nodes for publishing styles.
      (Common Elements): Document a few options that are present in
      `muse-publish.el'.

    modified files:
     ChangeLog lisp/muse-blosxom.el lisp/muse-journal.el
     lisp/muse-latex.el lisp/muse-publish.el muse.texi


2005-06-19 04:45:46 GMT	Michael Olson <mwolson@gnu.org>	patch-67

    Summary:
      Make Muse installable and correct an Emacs21 issue.
    Revision:
      muse--main--1.0--patch-67

    * Makefile (.PRECIOUS): Indicate that .info and .html files in this
      directory will be generated.
      (all): Compile muse.info by default.
      (doc): Refactor into individual generation rules for .html and .info
      files.
      (install): New rule that installs Muse source code, compiled .elc
      files, and the manual into proper places.
    
    * Makefile.defs (ELISPDIR, INFODIR): Correct minor goof-up.
    
    * README (Insinuation): Move old content of Installation here.
      (Installation): Fill out this section.
      (Further Documentation): Add link to my website and note that a full
      manual is included with Muse.
    
    * lisp/Makefile (EL): Populate with .el files.
      (install): New rule that installs both .elc and .el files.
    
    * lisp/muse-texinfo.el (muse-texinfo-info-generate): If we're running
      Emacs21, hack in a handler for the @documentencoding tag so that it
      doesn't error out.

    modified files:
     ChangeLog Makefile Makefile.defs README lisp/Makefile
     lisp/muse-texinfo.el


2005-06-19 03:05:38 GMT	Michael Olson <mwolson@gnu.org>	patch-66

    Summary:
      Cater even more to XEmacs and its annoying whims.
    Revision:
      muse--main--1.0--patch-66

    * examples/Makefile (%.html, %.pdf, %.info): Pass EMACS value as
      environment variable.
    
    * lisp/Makefile (%.elc, test): Don't use "-L" option since XEmacs can't
      handle it.  Load `muse-build.el' instead.
    
    * lisp/muse-colors.el (muse-colors-link): Add note that `link' is not
      used.
    
    * lisp/muse-journal.el (muse-journal-latex-munge-buffer)
      (muse-journal-rss-munge-buffer): Add note that the `qotd' binding is
      not used.
    
    * lisp/muse-journal.el (muse-journal-generate-pages): Add note that this
      function does not appear to be used.
    
    * lisp/muse.el (muse-replace-regexp-in-string): Use in place of
      `replace-regexp-in-string', since XEmacs doesn't have this function.
      We only implement the first 3 args, but this could be extended if we
      need to do so.
    
    * lisp/muse-blosxom.el (muse-blosxom-title-to-file): Use
      `muse-replace-regexp-in-string' in place of `replace-regexp-in-string'
    
    * lisp/muse-journal.el (muse-journal-anchorize-title): Ditto.
    
    * lisp/muse-colors.el (muse-colors-custom-tags): Remove unused binding to
      make XEmacs shut up.
    
    * lisp/muse-convert.el (muse-write-footnote): Ditto.
    
    * lisp/muse-html.el (muse-html-markup-table): Ditto.
    
    * lisp/muse-http.el (muse-winnow-list): Ditto.
    
    * lisp/muse-poem.el (muse-poem-markup-tag): Ditto.
    
    * lisp/muse-project.el (muse-project-file-entries): Ditto.
    
    * lisp/muse-publish.el (muse-publish-markup): Ditto.
    
    * scripts/muse-build.el: Add contrib path first; probably doesn't change
      anything.
    
    * scripts/publish: Use EMACS environment variable instead of hard-coding
      it.

    modified files:
     ChangeLog examples/Makefile lisp/Makefile lisp/muse-blosxom.el
     lisp/muse-colors.el lisp/muse-convert.el lisp/muse-html.el
     lisp/muse-http.el lisp/muse-journal.el lisp/muse-latex.el
     lisp/muse-poem.el lisp/muse-project.el lisp/muse-publish.el
     lisp/muse.el scripts/muse-build.el scripts/publish


2005-06-19 00:43:54 GMT	Michael Olson <mwolson@gnu.org>	patch-65

    Summary:
      Move lisp files to `lisp' directory; hack on Makefiles, XEmacs compat.
    Revision:
      muse--main--1.0--patch-65

    * AUTHORS: Update entry.
    
    * muse-*.el: Move to the lisp directory.
    
    * lisp/Makefile: New file containing rules to test and compile the
      source.
    
    * Makefile.defs: New file that contains common definitions for all other
      Makefiles, such as Emacs command to use.
    
    * Makefile: Move lisp-specific rules to lisp/Makefile.
      (SUBDIRS): New variable containing subdirectories to clean.
    
    * README: Update to reflect new location of source files.  Give updated
      directions for compiling with XEmacs.
    
    * examples/Makefile (.PRECIOUS): Added to denote which type of files to
      compile.
      (%.html): Pass SITEFLAG as an environment variable to
      ../scripts/publish.
    
    * examples/QuickStart (The): Re-add the stray <comment> tag since it
      seems to be needed to keep the process from failing.  This has *got* to
      be a bug in Muse, but I don't want to deal with it now.
    
    * lisp/muse-colors.el (muse-make-faces): Bind newsym locally.
    
    * lisp/muse-convert.el: Move line to commentary section.
    
    * lisp/muse-latex.el (muse-latex-markup-table): Note that the
      locally-bound `type' variable isn't used here.
    
    * lisp/muse-mode.el (muse-index-as-string): Remove unused `file' binding.
    
    * lisp/muse-texinfo.el (muse-texinfo-markup-table): Remove unused `field'
      binding.
    
    * scripts/muse-build.el (load-path): Correct paths.
    
    * scripts/muse-build.el (muse-elint-files): Add a few variables here so
      as to avoid spurious warnings.
    
    * scripts/publish (style): Make use of SITEFLAG environment variable, if
      it exists.
    
    * lisp/muse.el (muse-line-end-position, muse-line-beginning-position):
      (muse-match-string-no-properties): New functions that take the place of
      `line-end-position', `line-beginning-position', and
      `match-string-no-properties', respectively.
    
    * examples/johnw/muse-johnw.el (muse-my-html-insert-contents)
      (muse-my-journal-find-entries): Use Muse-specific version of
      `match-string-no-properties', `line-beginning-position', and
      `line-end-position' since these do not exist in XEmacs.
    
    * lisp/muse-colors.el (muse-colors-emphasized, muse-colors-region)
      (muse-colors-custom-tags, muse-colors-link, muse-colors-title): Ditto.
    
    * lisp/muse-convert.el (muse-latex-transform): Ditto.
    
    * lisp/muse-html.el (muse-html-insert-anchor, muse-html-markup-footnote)
      (muse-html-insert-contents): Ditto.
    
    * lisp/muse-journal.el (muse-journal-rss-munge-buffer): Ditto.
    
    * lisp/muse-mode.el (muse-link-at-point, muse-edit-link-at-point): Ditto.
    
    * lisp/muse-poem.el (muse-poem-prepare-buffer): Ditto.
    
    * lisp/muse-publish.el (muse-publish-markup-tag)
      (muse-publish-markup-footnote, muse-publish-markup-leading-space)
      (muse-published-buffer-contents): Ditto.
    
    * scripts/muse-build.el (muse-elint-files): Ditto.

    new files:
     .arch-ids/Makefile.defs.id Makefile.defs lisp/.arch-ids/=id
     lisp/.arch-ids/Makefile.id lisp/Makefile

    modified files:
     AUTHORS ChangeLog Makefile README examples/Makefile
     examples/QuickStart examples/johnw/muse-johnw.el
     lisp/muse-colors.el lisp/muse-convert.el lisp/muse-html.el
     lisp/muse-journal.el lisp/muse-latex.el lisp/muse-mode.el
     lisp/muse-poem.el lisp/muse-publish.el lisp/muse-texinfo.el
     lisp/muse.el scripts/muse-build.el scripts/publish

    renamed files:
     .arch-ids/muse-blosxom.el.id
       ==> lisp/.arch-ids/muse-blosxom.el.id
     .arch-ids/muse-book.el.id
       ==> lisp/.arch-ids/muse-book.el.id
     .arch-ids/muse-colors.el.id
       ==> lisp/.arch-ids/muse-colors.el.id
     .arch-ids/muse-convert.el.id
       ==> lisp/.arch-ids/muse-convert.el.id
     .arch-ids/muse-docbook.el.id
       ==> lisp/.arch-ids/muse-docbook.el.id
     .arch-ids/muse-html.el.id
       ==> lisp/.arch-ids/muse-html.el.id
     .arch-ids/muse-http.el.id
       ==> lisp/.arch-ids/muse-http.el.id
     .arch-ids/muse-journal.el.id
       ==> lisp/.arch-ids/muse-journal.el.id
     .arch-ids/muse-latex.el.id
       ==> lisp/.arch-ids/muse-latex.el.id
     .arch-ids/muse-mode.el.id
       ==> lisp/.arch-ids/muse-mode.el.id
     .arch-ids/muse-poem.el.id
       ==> lisp/.arch-ids/muse-poem.el.id
     .arch-ids/muse-project.el.id
       ==> lisp/.arch-ids/muse-project.el.id
     .arch-ids/muse-publish.el.id
       ==> lisp/.arch-ids/muse-publish.el.id
     .arch-ids/muse-regexps.el.id
       ==> lisp/.arch-ids/muse-regexps.el.id
     .arch-ids/muse-texinfo.el.id
       ==> lisp/.arch-ids/muse-texinfo.el.id
     .arch-ids/muse.el.id
       ==> lisp/.arch-ids/muse.el.id
     muse-blosxom.el
       ==> lisp/muse-blosxom.el
     muse-book.el
       ==> lisp/muse-book.el
     muse-colors.el
       ==> lisp/muse-colors.el
     muse-convert.el
       ==> lisp/muse-convert.el
     muse-docbook.el
       ==> lisp/muse-docbook.el
     muse-html.el
       ==> lisp/muse-html.el
     muse-http.el
       ==> lisp/muse-http.el
     muse-journal.el
       ==> lisp/muse-journal.el
     muse-latex.el
       ==> lisp/muse-latex.el
     muse-mode.el
       ==> lisp/muse-mode.el
     muse-poem.el
       ==> lisp/muse-poem.el
     muse-project.el
       ==> lisp/muse-project.el
     muse-publish.el
       ==> lisp/muse-publish.el
     muse-regexps.el
       ==> lisp/muse-regexps.el
     muse-texinfo.el
       ==> lisp/muse-texinfo.el
     muse.el
       ==> lisp/muse.el

    new directories:
     lisp lisp/.arch-ids


2005-06-18 20:12:05 GMT	Michael Olson <mwolson@gnu.org>	patch-64

    Summary:
      Massively untabify files.
    Revision:
      muse--main--1.0--patch-64


    modified files:
     ChangeLog ChangeLog.2004 experimental/muse-message.el
     experimental/muse-wiki.el muse-book.el muse-colors.el
     muse-convert.el muse-docbook.el muse-html.el muse-http.el
     muse-journal.el muse-latex.el muse-mode.el muse-poem.el
     muse-project.el muse-publish.el muse-regexps.el
     muse-texinfo.el muse.el


2005-06-18 19:57:44 GMT	Michael Olson <mwolson@gnu.org>	patch-63

    Summary:
      Merged from hodique@lifl.fr--2005 (patch 2-6), without the WikiWord change.
    Revision:
      muse--main--1.0--patch-63

    (Summary of changes that Yann made)
    
    * muse-colors.el (muse-colors-link): Whitespace cleanup.
    
    * muse-mode.el (muse-generate-index): Move index generation code into
      `muse-index-as-string'.
      (muse-index-as-string): New function that generates an index and
      returns it as a string, instead of placing it in a buffer like
      `muse-generate-index' used to.
    
    Patches applied:
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-2
       merge from mwolson@gnu.org--2005
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-3
       Accept WikiWords as links [mostly rescinded]
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-4
       merge from mwolson@gnu.org--2005/muse--main--1.0
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-5
       Merged from mwolson@gnu.org--2005 (patch 60-62)
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-6
       provide a string view of the index

    modified files:
     ChangeLog muse-colors.el muse-latex.el muse-mode.el

    new patches:
     hodique@lifl.fr--2005/muse--yh--1.0--patch-2
     hodique@lifl.fr--2005/muse--yh--1.0--patch-3
     hodique@lifl.fr--2005/muse--yh--1.0--patch-4
     hodique@lifl.fr--2005/muse--yh--1.0--patch-5
     hodique@lifl.fr--2005/muse--yh--1.0--patch-6


2005-06-18 06:21:19 GMT	Michael Olson <mwolson@gnu.org>	patch-62

    Summary:
      Document Blosxom, Book, DocBook, and HTML publishing styles.
    Revision:
      muse--main--1.0--patch-62

    * muse-blosxom.el: Clean up header.
    
    * muse-book.el (muse-before-book-publish-hook): Rename to
      `muse-book-before-publish-hook'.
      (muse-after-book-publish-hook): Rename to
      `muse-book-after-publish-hook'.
    
    * muse-html.el (muse-html-anchor-on-word, muse-html-table-attributes)
      (muse-html-markup-strings, muse-xhtml-markup-strings)
      (muse-html-meta-content-type, muse-html-meta-content-encoding)
      (muse-html-charset-default, muse-html-encoding-default)
      (muse-html-encoding-map): Docfixes.
    
    * muse.texi (Blosxom, Book, DocBook, HTML, Deriving Styles): New
      sections.

    modified files:
     ChangeLog muse-blosxom.el muse-book.el muse-html.el muse.texi


2005-06-18 01:35:33 GMT	Michael Olson <mwolson@gnu.org>	patch-61

    Summary:
      Begin work on Publishing Styles section of manual.
    Revision:
      muse--main--1.0--patch-61

    * Makefile (.PHONY): Add "doc" to list.
      (doc): New rule that generates Info and HTML files from muse.texi.
      (dist): Rely on `distclean', not `clean'.
    
    * examples/QuickStart (Authoring mode): Remove empty section.
    
    * muse.texi: Call this program "the Emacs Muse" in title.
      (Publishing Styles): Begin to populate section.
      (Deriving Styles): First subsection of Publishing Styles.
      (Contributors): Remove spurious copyright section, since we address
      this in the title.
    
    * README: Actually remember to add this file.

    new files:
     .arch-ids/README.id README

    modified files:
     ChangeLog Makefile examples/QuickStart muse.texi


2005-06-17 01:10:41 GMT	Michael Olson <mwolson@gnu.org>	patch-60

    Summary:
      Document Markup Rules.
    Revision:
      muse--main--1.0--patch-60

    * examples/QuickStart: Remove stray <comment> tag.
    
    * muse.texi (Top): Comment every menu line.
      (Markup Rules): New section with plenty of subsections.

    modified files:
     ChangeLog examples/QuickStart muse.texi


2005-06-15 23:50:12 GMT	Michael Olson <mwolson@gnu.org>	patch-59

    Summary:
      Release this as Muse 3.00.90 (RC1).
    Revision:
      muse--main--1.0--patch-59

    * Makefile (%.elc): Use -q instead of --no-init-file because the former
      is compatible with both Emacs and XEmacs.
    
    * examples/README: Renamed to QuickStart.
    
    * examples/Makefile (EXAMPLES): Reflect name change of README.
    
    * muse.el: Ditto.

    modified files:
     ChangeLog Makefile examples/Makefile muse.el

    renamed files:
     examples/.arch-ids/README.id
       ==> examples/.arch-ids/QuickStart.id
     examples/README
       ==> examples/QuickStart


2005-06-15 22:47:05 GMT	Michael Olson <mwolson@gnu.org>	patch-58

    Summary:
      Makefile refactoring.
    Revision:
      muse--main--1.0--patch-58

    * Makefile (.PHONY): List all non-file targets.
      (examples): New rule that calls Make in the examples directory.
      (atranslit): Removed, since this isn't (yet) bundled with Muse.
    
    * README: Move to the examples directory.  I'd prefer to distribute a
      very basic plain text README and use this as a quickstart + markup
      example + publishing example.
    
    * examples/Makefile: Move all README-related rules here.
    
    * examples/README: Add an "About this document" section.  
    
    * scripts/publish (style): Do not include the contrib directory, since we
      don't use any code from there.  Since this is only invoked from the
      examples directory, make sure add the parent directory to the load
      path.
    
    * muse.texi: Change version to 3.00.90 (RC1).
    
    * muse.el: Change location of the README file in header.
    
    * muse.el (muse-version): Update to 3.00.90 (RC1).

    new files:
     examples/.arch-ids/Makefile.id examples/Makefile

    modified files:
     ChangeLog Makefile examples/README muse.el muse.texi
     scripts/publish

    renamed files:
     .arch-ids/README.id
       ==> examples/.arch-ids/README.id
     README
       ==> examples/README


2005-06-14 03:14:05 GMT	Michael Olson <mwolson@gnu.org>	patch-57

    Summary:
      Update my example configuration.
    Revision:
      muse--main--1.0--patch-57

    * examples/mwolson/muse-init.el: Update to reflect use of outline faces
      and experimental status of muse-message.

    modified files:
     ChangeLog examples/mwolson/muse-init.el


2005-06-14 03:08:54 GMT	Michael Olson <mwolson@gnu.org>	patch-56

    Summary:
      Provide optional outline-style faces; customization fixes; experimental stuff.
    Revision:
      muse--main--1.0--patch-56

    * muse-colors.el (muse-colors-autogen-headings): New user-customizable
      option that determines what the header faces should look like.  If
      'outline, use outline-style faces.  If nil, don't generate the faces at
      all, which allows the user to specify their own.  Otherwise, use the
      scaled faces, which is the default behavior.
      (muse-colors-outline-faces-list): List of faces to use.  In case the
      outline faces are not available, provide reasonable defaults.
      (muse-make-faces): Use dolist instead of mapc.  Implement the
      possibility of having outline-style colors for heading.  Don't call
      this function immediately -- give the users time to make their changes
      through the customize interface.  Once we call this function, Emcs from
      CVS will not allow the faces to be changed easily, which is a shame.
    
    * muse-message.el (muse-message-contents-tag): Copied from
      `muse-publish-contents-tag' in order to keep the customization
      interface from making the `muse-markup-tags' option from throwing a
      type mismatch error.  This function is untested and will likely do
      nothing useful.  This file has been moved to the experimental folder
      until it gets fleshed out more.
    
    * experimental/muse-wiki.el: New file from johnw's initial attempt at a
      file that could eventually provide wiki-like ability.  Currently this
      is just a collection of functions that were pruned out when he remade
      Muse, so don't get too excited.  I plan to eventually merge Yann
      Hodique's work here, probably after the first release of Muse.
    
    * muse-regexps.el (muse-regexp): Improve description.
    
    * muse-project.el (muse-project-ignore-regexp): Make this be a part of
      the muse-regexp group since it is just a single regexp.  Lists of
      regexps don't have to be in muse-regexp, however.
    
    * muse-blosxom.el (muse-blosxom): Change use of `behaviour' to `behavior'
      since the Emacs devel mailing list seems to not want Britain-izations
      in Emacs code.
    
    * muse-colors.el (muse-colors): Ditto.
    
    * muse-docbook.el (muse-docbook): Ditto.
    
    * muse-html.el (muse-html): Ditto.
    
    * muse-http.el (muse-http): Ditto.
    
    * muse-message.el (muse-message): Ditto.
    
    * muse-mode.el (muse-mode): Ditto.
    
    * muse-project.el (muse-project): Ditto.
    
    * muse-publish.el (muse-publish): Ditto.
    
    * muse.el (muse): Ditto.

    new files:
     experimental/.arch-ids/=id
     experimental/.arch-ids/muse-wiki.el.id
     experimental/muse-wiki.el

    modified files:
     ChangeLog experimental/muse-message.el muse-blosxom.el
     muse-colors.el muse-docbook.el muse-html.el muse-http.el
     muse-mode.el muse-project.el muse-publish.el muse-regexps.el
     muse.el

    renamed files:
     .arch-ids/muse-message.el.id
       ==> experimental/.arch-ids/muse-message.el.id
     muse-message.el
       ==> experimental/muse-message.el

    new directories:
     experimental experimental/.arch-ids


2005-06-13 22:37:20 GMT	Michael Olson <mwolson@gnu.org>	patch-55

    Summary:
      Fix publishing error when given an empty string for header/footer.
    Revision:
      muse--main--1.0--patch-55

    * muse-publish.el (muse-insert-file-or-string): Don't pass argument to
      `file-readable-p' if it is an empty string.  For some reason,
      `file-readable-p' and `insert-file-contents' were treating an empty
      string as if it were the current directory.

    modified files:
     ChangeLog muse-publish.el


2005-06-13 22:01:00 GMT	Michael Olson <mwolson@gnu.org>	patch-54

    Summary:
      WYSIWYG emphasis, XEmacs compatibility hacks.
    Revision:
      muse--main--1.0--patch-54

    * muse-colors.el (muse-colors-emphasized): Make emphasis more WYSIWIG
      compliant.  Only colorize if we end with the same number of asterisks
      as we start with, preventing unnoticed syntax errors.  Don't colorize
      in the middle of a word.
      (muse-colors-underlined): Make underlining more WYSIWIG compliant.
      Only colorize if we end with an underscore.  Don't colorize in the
      middle of a word.
    
    * muse-docbook.el (muse-docbook-markup-paragraph): Move question mark
      inside of group.  This will probably not do anything, but it seems
      syntactically good.
    
    * muse-html.el (muse-html-markup-paragraph): Attempt to deal with case
      where we start with an image link.  JohnW didn't seem to like having
      <p> tags inserted before image links, but they don't validate properly
      as they are.  For now, I will surround such links/paragraphs with <div
      class="image-link"> in an attempt to be as not invasive and yet
      standards compliant as possible.
    
    * muse-html.el (muse-html-escape-string): Work around distinction between
      int and char types in XEmacs.  Deal with an annoying replace-match bug
      in XEmacs that rears its head at times.
    
    * muse-publish.el (muse-publish-markup-word): Allow underlines to be
      multi-line.

    modified files:
     ChangeLog muse-colors.el muse-docbook.el muse-html.el
     muse-publish.el


2005-06-13 01:13:08 GMT	Michael Olson <mwolson@gnu.org>	patch-53

    Summary:
      Minor code cleanup to address elint issues.
    Revision:
      muse--main--1.0--patch-53

    * Makefile (test): Don't build README files during this rule.  Remove
      spurious "make clean" statement.
    
    * muse-colors.el (muse-colors-tags): Make sure that this appears in the
      `muse-colors' group, and give it a proper type.
    
    * muse-mode.el: Wrap condition-case around `eval-when-compile'.
    
    * examples/johnw/muse-johnw.el (muse-my-html-insert-contents,
      muse-my-journal-find-entries): Replace `string-to-int' with
      `string-to-number'.
    
    * muse-html.el (muse-html-insert-contents): Ditto.
    
    * muse-journal.el (muse-journal-html-munge-buffer,
      muse-journal-latex-munge-buffer): Ditto.
    
    * muse-journal.el (muse-journal-rss-munge-buffer): Ditto.
    
    * muse-publish.el (muse-publish-markup-footnote,
      muse-publish-contents-tag): Ditto.
    
    * muse-regexps.el (muse-extreg-usable-p): Ditto.

    modified files:
     ChangeLog Makefile examples/johnw/muse-johnw.el muse-colors.el
     muse-html.el muse-journal.el muse-mode.el muse-publish.el
     muse-regexps.el


2005-06-13 00:41:10 GMT	Michael Olson <mwolson@gnu.org>	patch-52

    Summary:
      Add ability to automate the creation a new blosxom entry.
    Revision:
      muse--main--1.0--patch-52

    * examples/mwolson/muse-init.el: Move new entry section to
      muse-blosxom.el.  Modify the key settings in my example accordingly.
    
    * muse-blosxom.el (muse-blosxom-footer): Just use the empty string, since
      Muse always makes sure that the file ends with a newline.
    
    * muse-blosxom.el (muse-blosxom-markup-regexps): Remove this, since
      planner markup is now provided automatically by the planner port to
      Muse, and we don't have any customized markup.
    
    * muse-blosxom.el (muse-blosxom-base-directory): New customizable
      variable that specifies where the base directory of your blog entries
      is found.
    
    * muse-blosxom.el (muse-blosxom-get-categories): Get the categories from
      the base directory.  Explore categories recursively.
    
    * muse-blosxom.el (muse-blosxom-title-to-file): Helper function for
      `muse-blosxom-new-entry'.  Turns the given title into a lowercase, sans
      special characters file name.
    
    * muse-blosxom.el (muse-blosxom-new-entry): Automate the process of
      making a new blog entry.  It will prompt you for a category, then a
      title, and then will create a new file that has the date and title
      inserted.

    modified files:
     ChangeLog examples/mwolson/muse-init.el muse-blosxom.el


2005-06-12 22:11:20 GMT	Michael Olson <mwolson@gnu.org>	patch-51

    Summary:
      Change mailing address of FSF, add AUTHORS file.
    Revision:
      muse--main--1.0--patch-51

    * muse-*.el, muse.texi: Change mailing address of FSF.
    
    * muse.texi (Contributors): Fix typo.
    
    * AUTHORS: New file containing a list of all of those who have
      contributed code or documentation to Muse, how many lines were changed,
      etc.

    new files:
     .arch-ids/AUTHORS.id AUTHORS

    modified files:
     ChangeLog muse-blosxom.el muse-convert.el muse-docbook.el
     muse-html.el muse-http.el muse-journal.el muse-latex.el
     muse-message.el muse-mode.el muse-poem.el muse-project.el
     muse-publish.el muse-regexps.el muse-texinfo.el muse.el
     muse.texi


2005-06-12 21:33:24 GMT	Michael Olson <mwolson@gnu.org>	patch-50

    Summary:
      Merged from hodique@lifl.fr--2005 (patch 0-1)
    Revision:
      muse--main--1.0--patch-50

    Patches applied:
    
     * hodique@lifl.fr--2005/muse--yh--1.0--base-0
       tag of mwolson@gnu.org--2005/muse--main--1.0--patch-49
    
     * hodique@lifl.fr--2005/muse--yh--1.0--patch-1
       fix .html (for example) in visible names for links

    modified files:
     ChangeLog muse-publish.el

    new patches:
     hodique@lifl.fr--2005/muse--yh--1.0--base-0
     hodique@lifl.fr--2005/muse--yh--1.0--patch-1


2005-06-11 23:35:43 GMT	Michael Olson <mwolson@gnu.org>	patch-49

    Summary:
      Make generated X(HT)ML show up in the right encoding in other modes.
    Revision:
      muse--main--1.0--patch-49

    * muse-html.el (muse-xhtml-header): Add "encoding=..." to first line.
      Thanks to Zhiqiang Ye for the suggestion.  This attempts to make
      generated (X)HTML files show up in the right coding system when editing
      them with another Emacs mode.
    
    * muse-journal.el (muse-journal-rss-header): Automatically determine the
      encoding instead of hard-coding it.
    
    * muse-message.el: Add content to Commentary section, explaining the use
      of this publishing style.

    modified files:
     ChangeLog muse-html.el muse-journal.el muse-message.el


2005-06-11 01:28:01 GMT	Michael Olson <mwolson@gnu.org>	patch-48

    Summary:
      Move regexps to same group, only make 4 heading faces.
    Revision:
      muse--main--1.0--patch-48

    * muse-colors.el (muse-make-faces): Only create 4 header faces since we
      can only publish 3 of them specially, leaving the fourth to be in
      plain text.
      (muse-colors-markup): Only recognize 4 levels of heading.
    
    * muse-regexps.el (muse-tag-regexp, muse-link-regexp, muse-url-regexp)
      (muse-file-regexp, muse-image-regexp)
      (muse-ignored-extensions-regexp): Moved here from muse.el.  It seems
      like a good idea to have all the regexps in the same group.

    modified files:
     ChangeLog muse-colors.el muse-regexps.el muse.el


2005-06-09 19:48:02 GMT	Michael Olson <mwolson@gnu.org>	patch-47

    Summary:
      Update my example config, minor code cleanup.
    Revision:
      muse--main--1.0--patch-47

    * examples/mwolson/muse-init.el (muse-project-alist): Shorten project
      names and add "Plans" project.
    
    * muse-docbook.el (looking-back): Delete.
    
    * muse-html.el (looking-back): Delete.
    
    * muse-html.el (muse-html-markup-paragraph): Use `muse-looking-back'
      instead of `looking-back'.
    
    * muse.el (muse-looking-back): Instead of redefining the `looking-back'
      function, use this function.  If `looking-back' exists, call it;
      otherwise, use a workaround.

    removed files:
     contrib/.arch-ids/pcomplete.el.id contrib/pcomplete.el

    modified files:
     ChangeLog examples/mwolson/muse-init.el muse-docbook.el
     muse-html.el muse.el


2005-05-30 22:15:13 GMT	Michael Olson <mwolson@gnu.org>	patch-46

    Summary:
      Handle a few paragraph publishing edge cases better.
    Revision:
      muse--main--1.0--patch-46

    * muse-docbook.el (muse-docbook-markup-regexps): Consolidate the
      beginning-of-document, end-of-document, and paragraph separator regexps
      so that one markup rule can be used in all these cases.
      (muse-docbook-markup-paragraph): Handle more cases correctly.  In
      particular, blockquote or center at beginning or end of document will
      be published properly.  Hopefully this won't slow things down too much.
      (muse-docbook-markup-paragraph-close): Removed.
    
    * muse-blosxom.el (muse-blosxom-markup-regexps): Ditto.
    
    * muse-html.el (muse-html-markup-regexps, muse-html-markup-paragraph):
      Ditto.
      (muse-html-markup-paragraph-close): Removed.

    modified files:
     ChangeLog muse-blosxom.el muse-docbook.el muse-html.el


2005-05-28 23:37:11 GMT	Michael Olson <mwolson@gnu.org>	patch-45

    Summary:
      Improve prompt when reading a tag.
    Revision:
      muse--main--1.0--patch-45

    * muse-mode.el (muse-insert-tag): Add a colon after "default" like some
      other Emacs modes seem to do.

    modified files:
     ChangeLog muse-mode.el


2005-05-28 23:34:50 GMT	Michael Olson <mwolson@gnu.org>	patch-44

    Summary:
      Warn user when publishing fails due to a private directory.
    Revision:
      muse--main--1.0--patch-44

    * muse-project.el (muse-project-private-p): Warn users when publishing a
      file fails due to its directory not being readable by others.  Make
      sure that you do a `chmod +o name_of_directory' if you want the
      contents of that directory to be publishable.

    modified files:
     ChangeLog muse-project.el


2005-05-28 23:21:39 GMT	Michael Olson <mwolson@gnu.org>	patch-43

    Summary:
      Fix error with example tags and message publishing style.
    Revision:
      muse--main--1.0--patch-43

    * muse-colors.el: Don't define `font-lock-mode' as a variable.  Check to
      see if a previous definition for `font-lock-multiline' exists.
    
    * muse-message.el (muse-message-example-tag): Don't require two
      additional (unused) arguments.

    modified files:
     ChangeLog muse-colors.el muse-message.el


2005-05-22 05:58:40 GMT	Michael Olson <mwolson@gnu.org>	patch-42

    Summary:
      Always end the published document with a newline.
    Revision:
      muse--main--1.0--patch-42

    * muse-html.el (muse-html-markup-paragraph-close): Always end the
      published document with a newline.
    
    * muse-docbook.el (muse-docbook-markup-paragraph-close): Ditto.

    modified files:
     ChangeLog muse-docbook.el muse-html.el


2005-05-22 01:26:13 GMT	Michael Olson <mwolson@gnu.org>	patch-41

    Summary:
      Don't let automatic backup files crash the publishing process.
    Revision:
      muse--main--1.0--patch-41

    * muse-blosxom.el (muse-blosxom-markup-regexps): Remove rule for date
      directive since this value is already processed by
      `muse-publish-markup-directive', and may be obtained by using
      the code: (muse-publishing-directive "date").
    
    * muse-colors.el (muse-colors-region): Make sure that we don't ever try
      to run (funcall nil); this happened once during a debugging process.
    
    * muse-project.el (muse-project-private-p): Skip any file for which we
      cannot fetch attributes.  This fixes a bug where having an
      Emacs-generated automatic backup file in a publishing directory causes
      the publishing process to halt with an error.

    modified files:
     ChangeLog muse-blosxom.el muse-colors.el muse-project.el


2005-05-20 20:44:46 GMT	Michael Olson <mwolson@gnu.org>	patch-40

    Summary:
      Apply fix in previous patch to the DocBook publishing style.
    Revision:
      muse--main--1.0--patch-40

    * muse-docbook.el (muse-docbook-markup-paragraph-close): Apply fix from
      previous patch here as well.
    

    modified files:
     ChangeLog muse-docbook.el


2005-05-20 20:28:32 GMT	Michael Olson <mwolson@gnu.org>	patch-39

    Summary:
      Fix newly-introduced lock-up during HTML publishing.
    Revision:
      muse--main--1.0--patch-39

    * muse-blosxom.el (muse-blosxom-markup-regexps): Give date directive and
      planner rules higher priority in the publishing sequence.  Hopefully
      this will not wreck anything; I don't use these rules, so I cannot
      tell.  This wasn't a real bugfix, just an aesthetic code thing for me.
    
    * muse-html.el (muse-html-markup-paragraph-close): Don't use
      replace-match; that seems to be slightly evil.  Return nil instead of a
      newline since otherwise Muse thinks that we are not done yet and gets
      into an infinite loop.  This should fix the lock-up problem that
      resulted from the previous few patches.

    modified files:
     ChangeLog muse-blosxom.el muse-html.el


2005-05-19 23:44:16 GMT	Michael Olson <mwolson@gnu.org>	patch-38

    Summary:
      Parenthesis goofup.
    Revision:
      muse--main--1.0--patch-38

    * muse-blosxom.el (muse-blosxom-markup-regexps): Remove stray parenthesis.
    

    modified files:
     ChangeLog muse-blosxom.el


2005-05-19 23:41:54 GMT	Michael Olson <mwolson@gnu.org>	patch-37

    Summary:
      Make docbook and blosxom modes close paragraphs properly at end.
    Revision:
      muse--main--1.0--patch-37

    * muse-blosxom.el (muse-blosxom-markup-regexps): Use new rule from last
      patch.
    
    * muse-docbook.el (muse-docbook-markup-regexps): Ditto.
      (muse-docbook-markup-paragraph-close): Adapt from
      `muse-html-markup-paragraph-close'.
    
    * muse-html.el (muse-html-markup-paragraph-close): Add newline so that we
      preserve the same appearance as before the last patch.

    modified files:
     ChangeLog muse-blosxom.el muse-docbook.el muse-html.el


2005-05-19 23:26:50 GMT	Michael Olson <mwolson@gnu.org>	patch-36

    Summary:
      Bugfix: Close P tag properly at end of file.
    Revision:
      muse--main--1.0--patch-36

    * muse-blosxom.el: Fix bug where loading this file twice would cause an
      error.
    
    * muse-html.el (muse-html-markup-regexps): Use simpler mechanism for
      detecting whether or not a paragraph needs a closing P tag.
      (muse-html-markup-paragraph-close): New function that only inserts a
      closing P tag when an unclosed P tag is nearby.

    modified files:
     ChangeLog muse-blosxom.el muse-html.el


2005-05-18 06:07:02 GMT	Michael Olson <mwolson@gnu.org>	patch-35

    Summary:
      Update my example settings.
    Revision:
      muse--main--1.0--patch-35

    * examples/mwolson/muse-init.el: Synchronize with my current settings.

    modified files:
     ChangeLog examples/mwolson/muse-init.el


2005-05-18 06:03:07 GMT	Michael Olson <mwolson@gnu.org>	patch-34

    Summary:
      Update documentation for C-c TAB feature.
    Revision:
      muse--main--1.0--patch-34

    * muse.texi (Keystroke Summary): Note that C-c TAB calls
      `muse-insert-tag'.
    

    modified files:
     ChangeLog muse.texi


2005-05-18 06:00:27 GMT	Michael Olson <mwolson@gnu.org>	patch-33

    Summary:
      New feature: tag completion with C-c TAB.
    Revision:
      muse--main--1.0--patch-33

    * muse-mode.el (muse-mode-map): Map C-c TAB to `muse-insert-tag'.
      (muse-tag-history, muse-custom-tags): New variables that keep track of
      the tag history and newly-entered tags respectively for
      `muse-insert-tag'.
      (muse-insert-tag): New function that interactively prompts the user for
      a tag to use.

    modified files:
     ChangeLog muse-mode.el


2005-05-18 05:49:07 GMT	Michael Olson <mwolson@gnu.org>	patch-32

    Summary:
      Fix XHTML validation error with <hr> and <br>.
    Revision:
      muse--main--1.0--patch-32

    * muse-html.el (muse-xhtml-markup-strings): Use the proper form of the BR
      and HR tags for XHTML publishing.  This should fix a few validation
      errors that I've been noticing lately.

    modified files:
     ChangeLog muse-html.el


2005-05-12 22:46:10 GMT	Michael Olson <mwolson@gnu.org>	patch-31

    Summary:
      Remove flyspell overlays on links.
    Revision:
      muse--main--1.0--patch-31

    * muse-colors.el (muse-colors-link): Remove flyspell overlays.  This
      should make the link clickable.  On Emacs21, the color will stay red,
      but other Emacsen should do the right thing, which is use the normal
      link color.  Hopefully this will fix some strange flyspell-related link
      problems.

    modified files:
     ChangeLog muse-colors.el


2005-05-06 03:30:05 GMT	Michael Olson <mwolson@gnu.org>	patch-30

    Summary:
      Update my example Muse settings.
    Revision:
      muse--main--1.0--patch-30

    * examples/mwolson/muse-init.el: Update from my latest version.
      (muse-project-alist): Remove the francais part of my blog.
      (my-muse-mode-flyspell-p): Split old `my-muse-mode-affect-p' function
      into this and `my-muse-mode-fill-nobreak-p'.
      (muse-mode-hook): Tell fill mode to avoid breaking links; hopefully
      this is the best way to accomplish this.
      (my-muse-blosxom-title-to-file): Replace more non-alphanumeric
      characters in the title.
      (my-muse-prepare-entry-for-xanga): Treat example regions better.

    modified files:
     ChangeLog examples/mwolson/muse-init.el


2005-04-21 18:25:28 GMT	Michael Olson <mwolson@gnu.org>	patch-29

    Summary:
      Add simple `muse-version' function.
    Revision:
      muse--main--1.0--patch-29

    * muse.el (muse-version): New function that displays the value of the
      `muse-version' variable.  This should be easier for the user to type
      than C-h v muse-version.

    modified files:
     ChangeLog muse.el


2005-04-21 18:19:02 GMT	Michael Olson <mwolson@gnu.org>	patch-28

    Summary:
      Don't compile documentation by default.
    Revision:
      muse--main--1.0--patch-28

    * Makefile (all): Don't compile documentation by default.
      (doc): Use this rule to compile documentation.

    modified files:
     ChangeLog Makefile


2005-04-16 18:08:24 GMT	Michael Olson <mwolson@gnu.org>	patch-27

    Summary:
      Merge RSS 2.0 enclosure support for muse-journal.el from johnw
    Revision:
      muse--main--1.0--patch-27

    2005-04-16  Michael Olson  <mwolson@gnu.org>
    
        * muse-journal.el: Merge in enclosure support for RSS 2.0 from
        johnw. If a journal entry's title is a [[link]], then an
        <enclosure> tag will be added to the XML data giving the size and
        MIME type of the link target.  This makes podcasting with Muse
        trivial.
        (muse-journal-rss-entry-template): Add enclosure usage to example.
        (muse-journal-rss-munge-buffer): Implement enclosures.

    modified files:
     ChangeLog muse-journal.el


2005-04-15 05:54:30 GMT	Michael Olson <mwolson@gnu.org>	patch-26

    Summary:
      Standardize source headers, appease elint, don't require planner
    Revision:
      muse--main--1.0--patch-26

    2005-04-15  Michael Olson  <mwolson@gnu.org>
    
        * Makefile, scripts/muse-build.el: Moved muse-build.el to the
        `scripts' directory since it really isn't part of Muse proper; it
        is used to generate Muse output from the command line.
    
        * muse-blosxom.el: Handle case where planner is not loaded so that
        it isn't a hard requirement.
    
        * muse-colors.el: Move definition of `muse-colors-tag-info' up so
        that elint doesn't complain.
    
        * muse-message.el (muse-message-markup-link): Don't throw up on
        links with no description.
    
        * muse-blosxom.el, muse-book.el, muse-colors.el, muse-convert.el,
        muse-docbook.el, muse-html.el, muse-http.el, muse-journal.el,
        muse-latex.el, muse-message.el, muse-mode.el, muse-poem.el,
        muse-project.el, muse-publish.el, muse-regexps.el,
        muse-texinfo.el, muse.el: Add standard header for each file in
        preparation for the initial release, which will hopefully happen
        sometime within the next month.
    

    removed files:
     experimental/.arch-ids/=id

    modified files:
     ChangeLog Makefile muse-blosxom.el muse-book.el muse-colors.el
     muse-convert.el muse-docbook.el muse-html.el muse-http.el
     muse-journal.el muse-latex.el muse-message.el muse-mode.el
     muse-poem.el muse-project.el muse-publish.el muse-regexps.el
     muse-texinfo.el muse.el

    renamed files:
     .arch-ids/muse-build.el.id
       ==> scripts/.arch-ids/muse-build.el.id
     muse-build.el
       ==> scripts/muse-build.el

    removed directories:
     experimental experimental/.arch-ids


2005-04-14 23:46:47 GMT	Michael Olson <mwolson@gnu.org>	patch-25

    Summary:
      Merge contents of muse-latexcjk.el into muse-latex.el.
    Revision:
      muse--main--1.0--patch-25

    2005-04-14  Michael Olson  <mwolson@gnu.org>
    
        * muse-latex.el (muse-latexcjk-header, muse-latexcjk-footer)
        (muse-latexcjk-encoding-map, muse-latexcjk-encoding-default)
        (muse-latexcjk-encoding, muse-latexcjk-transform-content-type):
        Merge in from muse-latexcjk.el.
    
        * muse-latexcjk.el: Removed, functionality merged with
        muse-latex.el

    removed files:
     .arch-ids/muse-latexcjk.el.id muse-latexcjk.el

    modified files:
     ChangeLog muse-latex.el


2005-04-06 23:25:47 GMT	Michael Olson <mwolson@gnu.org>	patch-24

    Summary:
      Merge muse-xhtml.el into muse-html.el.
    Revision:
      muse--main--1.0--patch-24

    2005-04-06  Michael Olson  <mwolson@gnu.org>
    
        * examples/mwolson/muse-init.el: Update with respect to the
        muse-xhtml.el merge.
    
        * muse-html.el: The contents of muse-xhtml.el have been merged in
        as advised by John Wiegley.
        (muse-html-style-sheet): Add example for XHTML use in the
        function's documentation.
        (muse-xhtml-header, muse-xhtml-footer, muse-xhtml-markup-tags):
        Moved from muse-xhtml.el.
    
        * muse-xhtml.el: Removed; contents merged into muse-html.el.

    removed files:
     .arch-ids/muse-xhtml.el.id muse-xhtml.el

    modified files:
     ChangeLog examples/mwolson/muse-init.el muse-html.el


2005-04-06 03:18:55 GMT	Michael Olson <mwolson@gnu.org>	patch-23

    Summary:
      Try to fix regexps for Emacs 21.4.
    Revision:
      muse--main--1.0--patch-23

    2005-04-05  Michael Olson  <mwolson@gnu.org>
    
        * muse-regexps.el (muse-extreg-usable-p): Try to make regexps work
        for Emacs 21.4.

    modified files:
     ChangeLog muse-regexps.el


2005-04-01 17:59:47 GMT	Michael Olson <mwolson@gnu.org>	patch-22

    Summary:
      Add comments to the publish-project example script
    Revision:
      muse--main--1.0--patch-22

    2005-04-01  Michael Olson  <mwolson@gnu.org>
    
        * examples/publish-project: Moved here from
        scripts/publish-project.  Added a few comments so people know what
        it is used for.

    modified files:
     ChangeLog examples/publish-project

    renamed files:
     scripts/.arch-ids/publish-project.id
       ==> examples/.arch-ids/publish-project.id
     scripts/publish-project
       ==> examples/publish-project


2005-04-01 02:27:08 GMT	Michael Olson <mwolson@gnu.org>	patch-21

    Summary:
      New XHTML style, add more examples to my sample muse config
    Revision:
      muse--main--1.0--patch-21

    2005-03-31  Michael Olson  <mwolson@gnu.org>
    
        * examples/mwolson/muse-init.el: Give an example of deriving a
        custom publishing style.
        (my-muse-blosxom-finalize): Finalizes the "my-blosxom" style.
        (my-muse-prepare-entry-for-xanga): Mangle the published output
        from a blosxom project and copy the result to the clipboard for
        easy pasting into Xanga's web form.  The file is untouched.
    
        * muse-html.el (muse-html-style-sheet): Include the <style
        type="text/css"></style> wrapper around the example.
        (muse-html-header): Don't add <style type="text/css"></style>
        around the value of `muse-html-style-sheet' anymore.  This allows
        for the option of putting your stylesheet(s) in a separate file.
        An example of this is given in the documentation for this
        variable.
    
        * muse-xhtml: New file that implements a publishing style which is
        derived from HTML mode.  It uses a slightly modified version of
        the HTML markup rules to generate XHTML-compliant output.
    
        * muse-blosxom.el: Add new "blosxom-xhtml" style.  The old
        "blosxom" style has been renamed to "blosxom-html".  Fix a few
        header gaffes.
    
        * muse-journal.el: Add new "journal-xhtml" style.
    
        * muse-message.el: Add new "message-xhtml" style.

    new files:
     .arch-ids/muse-xhtml.el.id muse-xhtml.el

    modified files:
     ChangeLog examples/mwolson/muse-init.el muse-blosxom.el
     muse-html.el muse-journal.el muse-message.el


2005-03-25 03:55:13 GMT	Michael Olson <mwolson@gnu.org>	patch-20

    Summary:
      Add my muse configuration to the examples
    Revision:
      muse--main--1.0--patch-20

    2005-03-24  Michael Olson  <mwolson@gnu.org>
    
        * examples/johnw: Move John Wiegley's configuration to this
        directory.
    
        * examples/mwolson: My configuration files go here.
    
        * examples/mwolson/muse-init.el: My Muse configuration file.  I
        just figured out how to keep links from being spell-checked or
        split up by fill-mode, so the implementation of this may be found
        here.  I also made a function that sets up a blog entry for me.

    new files:
     examples/johnw/.arch-ids/=id examples/mwolson/.arch-ids/=id
     examples/mwolson/.arch-ids/muse-init.el.id
     examples/mwolson/muse-init.el

    modified files:
     ChangeLog

    renamed files:
     examples/.arch-ids/muse-johnw.el.id
       ==> examples/johnw/.arch-ids/muse-johnw.el.id
     examples/.arch-ids/publish-johnw.id
       ==> examples/johnw/.arch-ids/publish-johnw.id
     examples/muse-johnw.el
       ==> examples/johnw/muse-johnw.el
     examples/publish-johnw
       ==> examples/johnw/publish-johnw

    new directories:
     examples/johnw examples/johnw/.arch-ids examples/mwolson
     examples/mwolson/.arch-ids


2005-03-24 22:57:10 GMT	Michael Olson <mwolson@gnu.org>	patch-19

    Summary:
      Add muse-blosxom script and plugin for pyblosxom
    Revision:
      muse--main--1.0--patch-19

    2005-03-24  Michael Olson  <mwolson@gnu.org>
    
        * muse-blosxom.el: Update copyright notice in headers and mention
        the pyblosxom scripts.
    
        * contrib/pyblosxom: New directory containing pyblosxom plugins
        and helper scripts.
    
        * contrib/getstamps.py: Script that generates the "timestamps"
        file, run on the local machine.
    
        * contrib/hardcodedates.py: PyBlosxom plugin that interprets the
        timestamps file.

    new files:
     contrib/pyblosxom/.arch-ids/=id
     contrib/pyblosxom/.arch-ids/getstamps.py.id
     contrib/pyblosxom/.arch-ids/hardcodedates.py.id
     contrib/pyblosxom/getstamps.py
     contrib/pyblosxom/hardcodedates.py

    modified files:
     ChangeLog muse-blosxom.el

    new directories:
     contrib/pyblosxom contrib/pyblosxom/.arch-ids


2005-03-23 19:05:09 GMT	Michael Olson <mwolson@gnu.org>	patch-18

    Summary:
      muse-blosxom.el has matured past experimental status
    Revision:
      muse--main--1.0--patch-18

    2005-03-23  Michael Olson  <mwolson@gnu.org>
    
        * muse-blosxom.el: Remove common functionality that has already
        been implemented in `muse-html.el'.  Derive this mode from
        `muse-html'.  Update documentation.  I now feel that this file is
        ready to be included in the top-level Muse directory.

    modified files:
     ChangeLog muse-blosxom.el

    renamed files:
     experimental/.arch-ids/muse-blosxom.el.id
       ==> .arch-ids/muse-blosxom.el.id
     experimental/muse-blosxom.el
       ==> muse-blosxom.el


2005-03-22 05:28:01 GMT	Michael Olson <mwolson@gnu.org>	patch-17

    Summary:
      Make muse-blosxom.el slightly less experimental
    Revision:
      muse--main--1.0--patch-17

    2005-03-22  Michael Olson  <mwolson@gnu.org>
    
        * experimental/muse-blosxom.el (muse-blosxom-page-date-alist):
        Renamed from `blosxom-page-date-alist'.  Currently it does nothing
        useful.
        (muse-blosxom-markup-regexps): Remove unnecessary first grouping
        from the `muse-blosxom-markup-date-directive' rule.
        (blosxom-set-time): Remove this function.  We're not going to be
        touching the timestamp manually anymore -- it's too much of a
        hassle.  Right now I've got a python program that compiles a
        timestamp file and a pyblosxom helper that reads it.  Something
        similar could be arranged for blosxom, I'm sure.
    

    modified files:
     ChangeLog experimental/muse-blosxom.el


2005-03-20 19:40:10 GMT	Michael Olson <mwolson@gnu.org>	patch-16

    Summary:
      Apply latest journal-related updates from johnw
    Revision:
      muse--main--1.0--patch-16


    modified files:
     ChangeLog examples/muse-johnw.el muse-journal.el


2005-03-01 02:58:29 GMT	Michael Olson <mwolson@gnu.org>	patch-15

    Summary:
      Add Projects node to the manual
    Revision:
      muse--main--1.0--patch-15

    2005-02-28  Michael Olson  <mwolson@gnu.org>
    
        * muse.texi: Change copyright notice since the FSF is now the
        copyright holder.
        (Projects): New node, based on a section from the README file.

    modified files:
     ChangeLog muse.texi


2005-03-01 02:25:15 GMT	Michael Olson <mwolson@gnu.org>	patch-14

    Summary:
      Correct documentation, adding some content.
    Revision:
      muse--main--1.0--patch-14

    2005-02-28  Michael Olson  <mwolson@gnu.org>
    
        * muse.texi: Change license terms of the documentation to the GNU
        GPL instead of the GNU FDL, as per the consent of the copyright
        holders of the emacs-wiki manual, from which this is based.  Some
        emacs-wiki-isms in the manual were corrected, and the Getting
        Started section was updated.

    modified files:
     ChangeLog muse.texi


2005-02-17 19:08:19 GMT	Michael Olson <mwolson@gnu.org>	patch-13

    Summary:
      Make muse-blosxom.el a bit more sane, still need to bum it down a bit
    Revision:
      muse--main--1.0--patch-13

    2005-02-17  Michael Olson  <mwolson@gnu.org>
    
        * experimental/muse-blosxom.el: Somehow the contents of this file
        managed to get duplicated.  I removed the duplicates.
        (muse-blosxom-date): Remove this, since it is not useful.
        (muse-blosxom-header): Use the standard header that blosxom.el
        has.

    modified files:
     ChangeLog experimental/muse-blosxom.el


2005-02-08 04:20:41 GMT	Michael Olson <mwolson@gnu.org>	patch-12

    Summary:
      Initial commit of muse.texi, nothing substantial
    Revision:
      muse--main--1.0--patch-12

    2005-02-07  Michael Olson  <mwolson@gnu.org>
    
        * muse.texi: New file that provides the documentation for Muse.
        It is in a very rough form at the moment.  Nothing substantial may
        be found here yet.  Be ye warned.

    new files:
     .arch-ids/muse.texi.id muse.texi

    modified files:
     ChangeLog


2005-02-08 01:15:15 GMT	Michael Olson <mwolson@gnu.org>	patch-11

    Summary:
      Add docstring, new trivial function
    Revision:
      muse--main--1.0--patch-11

    2005-02-07  Michael Olson  <mwolson@gnu.org>
    
        * muse-mode.el (muse-mode-map): Make "C-c =" trigger
        `muse-what-changed'.  No functionality change.
        (muse-what-changed): New function that displays in diff format the
        changes made since the buffer was last saved.
    
        * muse-project.el (muse-project-publish): Add docstring.

    modified files:
     ChangeLog muse-mode.el muse-project.el


2005-02-04 18:42:08 GMT	Michael Olson <mwolson@gnu.org>	patch-10

    Summary:
      Add experimental version of muse-blosxom.el to project
    Revision:
      muse--main--1.0--patch-10

    2005-02-04  Michael Olson  <mwolson@gnu.org>
    
        * Makefile (realclean): Remove file that gets generated when fonts
        are missing.
    
        * experimental/muse-bloxsom.el: New file that implements Blosxom
        support for Muse.  It's in a very rough state, hence its placement
        in the `experimental' directory.

    new files:
     experimental/.arch-ids/=id
     experimental/.arch-ids/muse-blosxom.el.id
     experimental/muse-blosxom.el

    modified files:
     ChangeLog Makefile

    new directories:
     experimental experimental/.arch-ids


2005-02-04 18:19:44 GMT	Michael Olson <mwolson@gnu.org>	patch-9

    Summary:
      Make permissions more consistent
    Revision:
      muse--main--1.0--patch-9


    modified files:
     ChangeLog

    modified directories:
     contrib examples scripts


2005-02-04 18:13:56 GMT	Michael Olson <mwolson@gnu.org>	patch-8

    Summary:
      Fix build problems
    Revision:
      muse--main--1.0--patch-8

    2005-02-04  Michael Olson  <mwolson@gnu.org>
    
        * muse-build.el: Add contrib directory to `load-path'.
        (muse-elint-files): Load `muse-regexps.el'.
    
        * scripts/publish: Change permissions so that this script is
        executable.  Add contrib directory to load list.  Add
        `muse-regexps.el' to list.

    modified files:
     ChangeLog muse-build.el scripts/publish


2005-01-31 21:04:43 GMT	Michael Olson <mwolson@gnu.org>	patch-7

    Summary:
      Use "&mdash;" instead of "&#151;"
    Revision:
      muse--main--1.0--patch-7

    2005-01-31  Michael Olson  <mwolson@gnu.org>
    
        * muse-docbook.el (muse-docbook-markup-strings): Replace "&#151;"
        with "&mdash;" so that documents validate properly.  Thanks to
        Bjrn Lindstrm for the suggestion.
    
        * muse-html.el (muse-html-markup-strings): Ditto.

    modified files:
     ChangeLog muse-docbook.el muse-html.el


2005-01-25 19:04:31 GMT	Michael Olson <mwolson@gnu.org>	patch-6

    Summary:
      Fix use of "[:blank:]" in underline markup
    Revision:
      muse--main--1.0--patch-6

    2005-01-25  Michael Olson  <mwolson@gnu.org>
    
        * muse-colors.el (muse-colors-markup): Replace "[:blank:]" with
        use of `muse-regexp-blank'.

    modified files:
     ChangeLog muse-colors.el


2005-01-03 06:00:43 GMT	Michael Olson <mwolson@member.fsf.org>	patch-5

    Summary:
      Fix problem with headings being given wrong face
    Revision:
      muse--main--1.0--patch-5

    2005-01-03  Michael Olson  <mwolson@gnu.org>
    
    	* muse-colors.el: Add header.
    	(muse-colors-emphasized): Headings were being given the coloring
    	for the next level of heading instead of the real
    	level (i.e. `muse-header-2' instead of `muse-header-1' for "*
    	Heading").  Thanks to Lan Yufeng for finding this and sending a
    	patch.
    
    	* muse-regexps.el: Fix header.

    modified files:
     ChangeLog muse-colors.el muse-regexps.el


2005-01-02 00:02:15 GMT	Michael Olson <mwolson@member.fsf.org>	patch-4

    Summary:
      Rotate ChangeLog
    Revision:
      muse--main--1.0--patch-4

    2005-01-01  Michael Olson  <mwolson@gnu.org>
    
        * ChangeLog: Move old ChangeLog to ChangeLog.2004.  This new
        version will be automatically maintained by Arch.
    

    new files:
     .arch-ids/ChangeLog.id ChangeLog

    renamed files:
     .arch-ids/ChangeLog.id
       ==> .arch-ids/ChangeLog.2004.id
     ChangeLog
       ==> ChangeLog.2004


2004-12-30 07:26:48 GMT	Michael Olson <mwolson@member.fsf.org>	patch-3

    Summary:
      Extended regexps fix, allow spaces in 1st part of links
    Revision:
      muse--main--1.0--patch-3

    2004-12-30  Michael Olson  <mwolson@gnu.org>
    
        * muse.el (muse-link-regexp): Allow spaces in the first part of
        links.
    
        * muse-colors.el, muse-convert.el, muse-docbook.el: Use
        customizable alternatives to extended character classes.
    
        * muse-html.el, muse-mode.el, muse-publish.el: Ditto.

    modified files:
     ChangeLog muse-colors.el muse-convert.el muse-docbook.el
     muse-html.el muse-mode.el muse-publish.el muse.el


2004-12-30 02:18:07 GMT	Michael Olson <mwolson@member.fsf.org>	patch-2

    Summary:
      Begin to change regexp handling, tweak muse.el header
    Revision:
      muse--main--1.0--patch-2

    2004-12-29  Michael Olson  <mwolson@gnu.org>
    
        * muse.el: Change Copyright notice to FSF.  Change Maintainer to
        myself.  Update URL.
    
        * muse-regexps.el: New file that implements regexp handling.
        Generalized regexp options will be moved to it eventually.

    new files:
     .arch-ids/muse-regexps.el.id muse-regexps.el

    modified files:
     ChangeLog muse.el


2004-12-30 01:49:50 GMT	Michael Olson <mwolson@member.fsf.org>	patch-1

    Summary:
      Do some early spring cleaning
    Revision:
      muse--main--1.0--patch-1

    2004-12-29  Michael Olson  <mwolson@gnu.org>
    
        * Makefile: Change path to `publish' script.
    
        * contrib/pcomplete.el: New file that is used by Muse without
        actually being a part of it: hence its location in the contrib
        directory.
    
        * contrib/cgi.el, contrib/httpd.el: New location.
    
        * examples/muse-johnw.el, examples/publish-johnw: Ditto.
    
        * scripts/publish, scripts/publish-project: Ditto.

    new files:
     contrib/.arch-ids/=id contrib/.arch-ids/pcomplete.el.id
     contrib/pcomplete.el examples/.arch-ids/=id
     scripts/.arch-ids/=id

    modified files:
     ChangeLog Makefile

    renamed files:
     .arch-ids/cgi.el.id
       ==> contrib/.arch-ids/cgi.el.id
     .arch-ids/httpd.el.id
       ==> contrib/.arch-ids/httpd.el.id
     .arch-ids/muse-johnw.el.id
       ==> examples/.arch-ids/muse-johnw.el.id
     .arch-ids/publish-johnw.id
       ==> examples/.arch-ids/publish-johnw.id
     .arch-ids/publish-project.id
       ==> scripts/.arch-ids/publish-project.id
     .arch-ids/publish.id
       ==> scripts/.arch-ids/publish.id
     cgi.el
       ==> contrib/cgi.el
     httpd.el
       ==> contrib/httpd.el
     muse-johnw.el
       ==> examples/muse-johnw.el
     publish
       ==> scripts/publish
     publish-johnw
       ==> examples/publish-johnw
     publish-project
       ==> scripts/publish-project

    new directories:
     contrib contrib/.arch-ids examples examples/.arch-ids scripts
     scripts/.arch-ids


2004-12-30 01:33:11 GMT	Michael Olson <mwolson@member.fsf.org>	base-0

    Summary:
      tag of mwolson@member.fsf.org--2004/muse--main--1.0--patch-3
    Revision:
      muse--main--1.0--base-0

    (automatically generated log message)

    new patches:
     lidaobing@gmail.com--2004-pub/muse--lidaobing--1.0--base-0
     lidaobing@gmail.com--2004-pub/muse--lidaobing--1.0--patch-1
     lidaobing@gmail.com--2004-pub/muse--lidaobing--1.0--patch-2
     lidaobing@gmail.com--2004/muse--lidaobing--1.0--patch-1
     lidaobing@gmail.com--2004/muse--lidaobing--1.0--patch-2
     mwolson@member.fsf.org--2004/muse--main--1.0--base-0
     mwolson@member.fsf.org--2004/muse--main--1.0--patch-1
     mwolson@member.fsf.org--2004/muse--main--1.0--patch-2
     mwolson@member.fsf.org--2004/muse--main--1.0--patch-3
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--base-0
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-1
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-2
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-3
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-4
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-5
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-6
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-7
     mwolson@member.fsf.org--2004/muse--mwolson--1.0--patch-8


